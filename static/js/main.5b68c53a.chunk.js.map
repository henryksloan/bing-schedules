{"version":3,"sources":["serviceWorker.js","firebase.js","components/Header.js","components/WeekView.js","components/Card.js","components/CourseSelector.js","components/CourseContainer.js","components/UserScheduleContainer.js","components/GroupPage.js","components/Landing.js","components/Main.js","components/App.js","index.js"],"names":["Boolean","window","location","hostname","match","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firestore","settings","timestampsInSnapshots","provider","auth","GoogleAuthProvider","Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","login","bind","assertThisInitialized","logout","_this2","signOut","then","_this3","setCustomParameters","prompt","signInWithPopup","result","user","react_default","a","createElement","id","Link","to","alt","src","process","displayName","email","className","onClick","React","Component","WeekView","weekend","courses","some","course","days","includes","noWeekend","weekdays","days_header","map","day","index","key","substr","splice","hour_min","hour_max","forEach","start_hour","Date","time_start","toUpperCase","trim","getHours","end_hour","time_end","overrides","endHour","startHour","row_groups","i","row_group","j","row","push","rowSpan","k","length","row_groups_default","state","addBlock","addBlockAtTime","indexOf","charAt","name","times","nextProps","setState","day_index","group_index","row_index","row_span","inner_html","day_fixed","style","backgroundColor","height","Math","floor","start_date","start_obj","hour","quarter","round","getMinutes","end_date","end_obj","width","_","title","colSpan","Card","editButton","lineHeight","children","CourseSelector","changeSubject","changeCode","changeSection","selected","updateEntry","subject","code","section","code_select","focus","section_select","_this4","focusNextEntry","subject_select","_this5","_this$props","code_options","getCodes","section_options","getSections","react_select_esm","tabIndex","value","onChange","options","subject_options","placeholder","openMenuOnFocus","tabSelectsValue","classNamePrefix","filterOption","createFilter","matchFrom","ref","el","isDisabled","components","Option","data","time","split","isOptionDisabled","option","already_entered","verticalAlign","cursor","removeEntry","CourseContainer","opt","keys","reduce","obj","x","label","initial_entries","initial","console","log","content","entries","selector_refs","loading","getActivities","addEntry","addFilledEntry","onSubmit","shouldFindActivities","renderActivityButtons","raw","entry","type","getTime","changed_info","callback","assign","filter","section_key","_ismounted","entries_to_submit","schedule_list","collection","doc","uid","set","schedule","catch","err","groups_ref","where","groups_i_ref","get","snapshot","exists","to_focus","focusSubject","datapoint","_this6","activities","activity","_this7","selectors","components_CourseSelector","display","UserScheduleContainer","edit_schedule","components_CourseContainer","getField","join","components_WeekView","GroupPage","groupId","group","schedules","role","onAuthStateChanged","queryString","parse","search","roles","update","members_can_view","username","My Schedule","user_courses","courses_i","names","time_split","constructor","Array","schedule_rows","components_Card","float","components_UserScheduleContainer","Landing","groups","onChangeTitle","groups_new","onSnapshot","defineProperty","e","target","createGroup","Main","__webpack_require__","t","field","out","Switch","Route","exact","path","render","components_Landing","components_GroupPage","App","components_Header","components_Main","ReactDOM","BrowserRouter","basename","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5b68c53a.chunk.js","sourcesContent":["// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\nvar config = {\n\n  apiKey: \"AIzaSyAtkDMcmqJXjxNRvx84gYKQqssbarfkaOs\",\n  authDomain: \"bing-schedules.firebaseapp.com\",\n  databaseURL: \"https://bing-schedules.firebaseio.com\",\n  projectId: \"bing-schedules\",\n  storageBucket: \"bing-schedules.appspot.com\",\n  messagingSenderId: \"249912717870\"\n};\nfirebase.initializeApp(config);\n\nconst firestore = firebase.firestore();\nconst settings = {timestampsInSnapshots: true};\nfirestore.settings(settings);\n\nexport default firebase;\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\n\nimport \"../stylesheets/Header.css\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  logout() {\n    auth.signOut().then(() => {\n      this.props.logout();\n    });\n  }\n\n  login() {\n    provider.setCustomParameters({\n      prompt: \"select_account\"\n    });\n\n    auth.signInWithPopup(provider).then(result => {\n      const user = result.user;\n      this.props.login(user);\n    });\n  }\n\n  render() {\n    return (\n      <header id=\"top-header\">\n        <Link to=\"/\">\n          <img alt=\"logo\" src={process.env.PUBLIC_URL + \"/assets/logo.png\"} />\n          <h1>Binghamton Schedule Manager</h1>\n        </Link>\n        <div id=\"top-header-auth-button\">\n          <p>\n            {this.props.user\n              ? this.props.user.displayName || this.props.user.email\n              : \"\"}\n          </p>\n          {this.props.user ? (\n            <button className=\"button gray\" onClick={this.logout}>\n              Log Out\n            </button>\n          ) : (\n            <button className=\"button gray\" onClick={this.login}>\n              Log In\n            </button>\n          )}\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React from \"react\";\n\nimport \"../stylesheets/WeekView.css\";\n\nclass WeekView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    let weekend = false;\n    this.props.courses.some(course => {\n      if (course.days.includes(\"S\") || course.days.includes(\"U\")) {\n        weekend = true;\n        return false;\n      }\n      return true;\n    });\n\n    if (this.props.noWeekend && !weekend) {\n      this.weekdays = [\n        \"Monday\",\n        \"Tuesday\",\n        \"Wednesday\",\n        \"Thursday\",\n        \"Friday\"\n      ]\n    }\n    else {\n      this.weekdays = [\n        \"Monday\",\n        \"Tuesday\",\n        \"Wednesday\",\n        \"Thursday\",\n        \"Friday\",\n        \"Saturday\",\n        \"Sunday\"\n      ];\n    }\n    this.days_header = this.weekdays.map((day, index) => {\n      return (\n        <th key={index + 1} className=\"weekview-cell-label\">\n          <span>{day.substr(0, 3)}</span>\n        </th>\n      );\n    });\n    this.days_header.splice(\n      0,\n      0,\n      <th key={0} className=\"weekview-cell-label\" />\n    );\n\n    // TODO: Handle the case where the last end time is an exact hour\n    // i.e. Should an empty hour be shown?\n    this.hour_min = null;\n    this.hour_max = null;\n    this.props.courses.forEach(course => {\n      let start_hour = new Date(\n        \"1/1/1970 \" + course.time_start.toUpperCase().trim()\n      ).getHours();\n      if (start_hour < this.hour_min || this.hour_min == null)\n        this.hour_min = start_hour;\n\n      let end_hour = new Date(\n        \"1/1/1970 \" + course.time_end.toUpperCase().trim()\n      ).getHours();\n      if (end_hour > this.hour_max || this.hour_max == null)\n        this.hour_max = end_hour;\n    });\n\n    let overrides = 0;\n    if (this.props.endHour && this.props.endHour > this.hour_max) {\n      this.hour_max = this.props.endHour;\n      overrides += 1;\n    }\n\n    if (this.props.startHour && this.props.startHour < this.hour_min) {\n      this.hour_min = this.props.startHour;\n      overrides += 1;\n    }\n\n    // console.log(this.hour_max - this.hour_min, this.props.optimalSize, this.hour_max - this.hour_min + 1 - this.props.optimalSize);\n    if (overrides > 0) this.hour_min += (this.hour_max - this.hour_min) - (this.props.endHour - this.props.startHour);\n\n    // TODO: IMPORTANT -- Fix times that pass midnight into another day\n    let row_groups = [];\n    for (let i = this.hour_min; i <= this.hour_max; i++) {\n      let row_group = [];\n      for (let j = 0; j < 4; j++) {\n        let row = [];\n        if (j === 0) {\n          row.push(\n            <td key={0} rowSpan={4} className=\"weekview-cell-label\">\n              {((i + 11) % 12) + 1 + (i >= 12 ? \"PM\" : \"AM\")}\n            </td>\n          );\n        }\n\n        for (let k = 0; k < this.weekdays.length; k++) {\n          row.push(<td key={this.weekdays[k]} className=\"weekview-cell-empty\" />);\n        }\n        row_group.push(row);\n      }\n      row_groups.push(row_group);\n    }\n    this.row_groups_default = row_groups;\n\n    this.state = { row_groups: row_groups };\n\n    this.addBlock = this.addBlock.bind(this);\n    this.addBlockAtTime = this.addBlockAtTime.bind(this);\n  }\n\n  componentDidMount() {\n    if (!this.props.courses) return;\n    const day_codes = \"MTWRFSU\";\n    this.props.courses.forEach(course => {\n      for (let i = 0; i < course.days.length; i++) {\n        this.addBlockAtTime(\n          day_codes.indexOf(course.days.charAt(i)),\n          course.time_start,\n          course.time_end,\n          <span key={i}><b>{course.name}</b><br />{course.course}<br />{course.times}</span>\n        );\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ row_groups: this.row_groups_default });\n    const day_codes = \"MTWRFSU\";\n    nextProps.courses.forEach(course => {\n      for (let i = 0; i < course.days.length; i++) {\n        this.addBlockAtTime(\n          day_codes.indexOf(course.days.charAt(i)),\n          course.time_start,\n          course.time_end,\n          <span key={i}><b>{course.name}</b><br />{course.course}<br />{course.times}</span>\n        );\n      }\n    });\n  }\n\n  // Adds a cell of rowSpan row_span at:\n  // (day_index)th day column of the (row_index)th row in the (group_index)th row group\n  // containing the inner html provided by inner_html\n  // addBlockAtTime wraps this for ease of use\n  addBlock(day_index, group_index, row_index, row_span, inner_html) {\n    let day_fixed = row_index === 0 ? day_index + 1 : day_index;\n    let row_groups = this.state.row_groups;\n    let key = row_groups[group_index][row_index][day_fixed].key;\n    row_groups[group_index][row_index][day_fixed] = (\n      <td rowSpan={row_span} style={{ backgroundColor: \"#ccc\", height: \"100%\" }} key={key}>\n        <span><div>{inner_html}</div></span>\n      </td>\n    );\n\n    for (let i = 1; i < row_span; i++) {\n      let row =\n        row_groups[group_index + Math.floor((row_index + i) / 4)][\n        (row_index + i) % 4\n          ];\n      row[day_index + ((row_index + i) % 4 === 0 ? 1 : 0)] = null;\n    }\n\n    this.setState({ row_groups: row_groups });\n  }\n\n  // Adds a cell:\n  // (day_index)th day column, spanning from time_start to time_end, rounded to the nearest 15 minutes\n  // containing the inner html provided by inner_html\n  // Times are in the form H:MM {AM | PM} (space required before suffix)\n  // TODO: Don't require space before suffix\n  addBlockAtTime(day_index, time_start, time_end, inner_html) {\n    let start_date = new Date(\"1/1/1970 \" + time_start.toUpperCase().trim());\n    let start_obj = {\n      hour: start_date.getHours(),\n      quarter: Math.round(start_date.getMinutes() / 15)\n    };\n\n    let end_date = new Date(\"1/1/1970 \" + time_end.toUpperCase().trim());\n    let end_obj = {\n      hour: end_date.getHours(),\n      quarter: Math.round(end_date.getMinutes() / 15)\n    };\n\n    let group_index = start_obj.hour - this.hour_min;\n    if (group_index < 0) group_index = 24 + group_index;\n    let row_index = start_obj.quarter;\n    let row_span = 0;\n\n    // Add 4 rows for every whole hour greater\n    if (end_obj.hour > start_obj.hour) {\n      row_span += 4 * (end_obj.hour - start_obj.hour - 1);\n    }\n    row_span += 4 - start_obj.quarter + end_obj.quarter;\n\n    this.addBlock(day_index, group_index, row_index, row_span, inner_html);\n  }\n\n  render() {\n    let row_groups = this.state.row_groups;\n\n    return (\n      <table className=\"weekview-table\">\n        <colgroup>\n          <col style={{ width: \"50px\" }} />\n          {this.weekdays.map((_, index) => { return <col key={index} style={{ width: \"100px\" }} /> })}\n        </colgroup>\n\n        <thead>\n          {this.props.title ?\n            <tr className=\"weekview-title\">\n              <td colSpan={this.weekdays.length + 1}>{this.props.title}</td>\n            </tr>\n            :\n            null\n          }\n          <tr>{this.days_header}</tr>\n        </thead>\n        <tbody>\n          {row_groups.map((row_group) => {\n            return row_group.map((row, row_index) => {\n              return <tr key={\"row\" + row_index}>{row}</tr>;\n            });\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default WeekView;\n","import React from \"react\";\n\nimport \"../stylesheets/Card.css\";\n\nclass Card extends React.Component {\n  render() {\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <span style={this.props.editButton ? {lineHeight: \"30px\"} : null}>{this.props.title}</span>\n          {this.props.editButton}\n        </div>\n        <div className=\"card-content\">{this.props.children}</div>\n      </div>\n    );\n  }\n}\n\nexport default Card;\n","import React from \"react\";\n\nimport Select, { createFilter, components } from \"react-select\";\n\nclass CourseSelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeSubject = this.changeSubject.bind(this);\n    this.changeCode = this.changeCode.bind(this);\n    this.changeSection = this.changeSection.bind(this);\n  }\n\n  changeSubject(selected) {\n    this.props.updateEntry(\n      this.props.index,\n      { subject: selected, code: null, section: null },\n      () => this.code_select.focus()\n    );\n  }\n\n  changeCode(selected) {\n    this.props.updateEntry(\n      this.props.index,\n      { code: selected, section: null },\n      () => this.section_select.focus()\n    );\n  }\n\n  changeSection(selected) {\n    this.props.updateEntry(\n      this.props.index,\n      { section: selected.length === 0 ? null : selected },\n      () => (selected.length === 0 ? null : this.props.focusNextEntry())\n    );\n  }\n\n  focusSubject() {\n    this.subject_select.focus();\n  }\n\n  render() {\n    const { subject, code, section } = this.props;\n\n    let code_options = this.props.getCodes(subject);\n    let section_options = this.props.getSections(subject, code);\n\n    return (\n      <div>\n        <Select\n          tabIndex={0}\n          value={subject}\n          onChange={this.changeSubject}\n          options={this.props.subject_options}\n          placeholder=\"Select Subject\"\n          openMenuOnFocus={true}\n          tabSelectsValue={false}\n          className=\"course-select\"\n          classNamePrefix=\"react-select\"\n          filterOption={createFilter({ matchFrom: \"start\" })}\n          ref={el => {\n            this.subject_select = el;\n          }}\n        />\n        <Select\n          tabIndex={0}\n          value={code}\n          onChange={this.changeCode}\n          options={code_options}\n          placeholder=\"Select Course\"\n          openMenuOnFocus={true}\n          tabSelectsValue={false}\n          isDisabled={code_options.length === 0}\n          className=\"course-select\"\n          classNamePrefix=\"react-select\"\n          filterOption={createFilter({ matchFrom: \"start\" })}\n          ref={el => {\n            this.code_select = el;\n          }}\n        />\n        <Select\n          tabIndex={0}\n          value={section}\n          onChange={this.changeSection}\n          options={section_options}\n          placeholder=\"Select Section\"\n          openMenuOnFocus={true}\n          tabSelectsValue={false}\n          isDisabled={section_options.length === 0}\n          className=\"course-select\"\n          classNamePrefix=\"react-select\"\n          filterOption={createFilter({ matchFrom: \"start\" })}\n          components={{\n            Option: props => {\n              return (\n                <div>\n                  <components.Option {...props}>\n                    {props.children}\n                    <span\n                      className={\n                        props.data.time.indexOf(\", \") > -1 ? \"multiple\" : \"\"\n                      }\n                    >\n                      {props.data.time.split(\", \").map((time, index) => {\n                        return [time, <br key={index} />];\n                      })}\n                    </span>\n                  </components.Option>\n                </div>\n              );\n            }\n          }}\n          isOptionDisabled={option => option.already_entered}\n          ref={el => {\n            this.section_select = el;\n          }}\n        />\n        <img\n          src={process.env.PUBLIC_URL + \"/assets/cross.png\"}\n          alt=\"Delete entry\"\n          style={{ verticalAlign: \"middle\", cursor: \"pointer\" }}\n          width=\"16\"\n          height=\"16\"\n          onClick={() => {\n            this.props.removeEntry(this.props.index);\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default CourseSelector;\n","import React from \"react\";\n\nimport CourseSelector from \"./CourseSelector.js\";\n\nimport \"../stylesheets/CourseContainer.css\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass CourseContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const opt = (props.data)\n      ? Object.keys(props.data).reduce((obj, x) => {\n        obj.push({ value: x, label: x });\n        return obj;\n      }, [])\n      : [];\n\n    let initial_entries = [\n      { subject: null, code: null, section: null },\n      { subject: null, code: null, section: null }\n    ];\n\n    if (props.initial) {\n      console.log(props.initial);\n      initial_entries = props.initial.reduce((obj, x) => {\n        obj.push({subject: {value: x.content.subject, label: x.content.subject},\n                  code: {value: x.content.code, label: x.content.code},\n                  section: {value: x.content.section, label: x.content.section}});\n        return obj;\n      }, []);\n    }\n\n    this.state = {\n      subject_options: opt,\n      entries: initial_entries,\n      selector_refs: [],\n      loading: false\n    };\n\n    this.getCodes = this.getCodes.bind(this);\n    this.getSections = this.getSections.bind(this);\n    this.updateEntry = this.updateEntry.bind(this);\n    this.getActivities = this.getActivities.bind(this);\n    this.addEntry = this.addEntry.bind(this);\n    this.addFilledEntry = this.addFilledEntry.bind(this);\n    this.removeEntry = this.removeEntry.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.focusNextEntry = this.focusNextEntry.bind(this);\n    this.shouldFindActivities = this.shouldFindActivities.bind(this);\n    this.renderActivityButtons = this.renderActivityButtons.bind(this);\n  }\n\n  getCodes(subject) {\n    if (subject && subject.value) {\n      return Object.keys(this.props.data[subject.value]).reduce((obj, x) => {\n        obj.push({ value: x, label: x });\n        return obj;\n      }, []);\n    }\n\n    return [];\n  }\n\n  getSections(subject, code) {\n    if (subject && code && subject.value && code.value) {\n      let raw = Object.keys(this.props.data[subject.value][code.value]).reduce(\n        (obj, x) => {\n          let already_entered = false;\n          for (let entry in this.state.entries) {\n            if (\n              this.state.entries[entry].subject &&\n              this.state.entries[entry].code &&\n              this.state.entries[entry].section &&\n              this.state.entries[entry].subject.value === subject.value &&\n              this.state.entries[entry].code.value === code.value &&\n              this.state.entries[entry].section.value === x\n            ) {\n              already_entered = true;\n              break;\n            }\n          }\n\n          let type = this.props.data[subject.value][code.value][x].type[0];\n          if (!obj[type]) obj[type] = [];\n          obj[type].push({\n            value: x,\n            label: x,\n            time: this.props.getTime(subject.value, code.value, x),\n            already_entered: already_entered\n          });\n          return obj;\n        },\n        {}\n      );\n\n      return Object.entries(raw).reduce((obj, x) => {\n        obj.push({ label: x[0], options: x[1] });\n        return obj;\n      }, []);\n    }\n\n    return [];\n  }\n\n  updateEntry(index, changed_info, callback) {\n    let entries = this.state.entries;\n    if (entries[index] === null || changed_info === null) return;\n    entries[index] = Object.assign(entries[index], changed_info);\n    this.setState({ entries: entries }, callback);\n  }\n\n  getActivities(subject, code, section) {\n    if (\n      subject &&\n      code &&\n      section &&\n      subject.value &&\n      code.value &&\n      section.value\n    ) {\n      return Object.keys(this.props.data[subject.value][code.value]).filter(\n        section_key => {\n          let section = this.props.data[subject.value][code.value][section_key];\n          return (\n            section.type[0] === \"Activity\" || section.type[0] === \"Discussion\"\n          );\n        }\n      );\n    }\n\n    return [];\n  }\n\n  addEntry() {\n    let entries = this.state.entries;\n    entries.push({ subject: null, code: null, section: null });\n    this.setState({ entries: entries });\n  }\n\n  addFilledEntry(subject, code, section, index) {\n    let entries = this.state.entries;\n    entries.splice(index, 0, {\n      subject: subject,\n      code: code,\n      section: section\n    });\n    this.setState({ entries: entries });\n  }\n\n  removeEntry(index) {\n    let entries = this.state.entries;\n    entries.splice(index, 1);\n    this.setState({ entries: entries }, () => {\n      if (this.state.entries.length === 0) this.addEntry();\n    });\n  }\n\n  componentDidMount() {\n    this._ismounted = true;\n  }\n\n  componentWillUnmount() {\n    this._ismounted = false;\n  }\n\n  onSubmit() {\n    let entries_to_submit = [];\n    for (let i = 0; i < this.state.entries.length; i++) {\n      if (\n        this.state.entries[i].subject == null &&\n        this.state.entries[i].code == null &&\n        this.state.entries[i].section == null\n      ) {\n        // TODO: In this case, just skip it\n        console.log(\"All null\");\n        continue;\n      }\n\n      if (\n        this.state.entries[i].subject == null ||\n        this.state.entries[i].code == null ||\n        this.state.entries[i].section == null\n      ) {\n        // TODO: Improve and actually display this message\n        console.log(\"Please enter all fields or remove the row to continue\");\n        continue;\n      }\n\n      entries_to_submit.push(this.state.entries[i]);\n    }\n\n    if (entries_to_submit.length === 0) {\n      // TODO: Just disable submit in this case\n      console.log(\"Please enter a course\");\n      return;\n    }\n\n    var schedule_list = entries_to_submit.map(entry => {\n      return {\n        type: \"course\",\n        content: {\n          subject: entry.subject.value,\n          code: entry.code.value,\n          section: entry.section.value\n        }\n      };\n    });\n\n    this.setState({loading: true});\n    firebase\n      .firestore()\n      .collection(\"schedules\")\n      .doc(this.props.user.uid)\n      .set({ schedule: schedule_list })\n      .then(() => {\n        this.props.onSubmit();\n        if (this._ismounted) {\n          this.setState({loading: false});\n        }\n      })\n      .catch(err => {\n        console.log(\"Error getting document --\", err);\n        this.setState({loading: false});\n      });\n\n\n    let groups_ref = firebase.firestore().collection(\"groups\");\n\n    let groups_refs = [\n      groups_ref.where(\"roles.\" + this.props.user.uid, \"==\", \"owner\"),\n      groups_ref.where(\"roles.\" + this.props.user.uid, \"==\", \"viewer\"),\n      groups_ref.where(\"roles.\" + this.props.user.uid, \"==\", \"member\")\n    ];\n\n    groups_refs.forEach(groups_i_ref => {\n      groups_i_ref.get().then(snapshot => {\n        snapshot.forEach(doc => {\n          doc.ref.collection(\"schedules\").doc(this.props.user.uid).get().then((schedule) => {\n            if (schedule.exists) {\n              doc.ref.collection(\"schedules\").doc(this.props.user.uid).set({schedule: schedule_list});\n            }\n          });\n        }, this);\n      });\n    }, this);\n  }\n\n  focusNextEntry(index) {\n    if (this.selector_refs.length <= index + 1) {\n      this.addEntry();\n      this.to_focus = index + 1;\n    } else {\n      this.selector_refs[index + 1].focusSubject();\n    }\n  }\n\n  shouldFindActivities(index) {\n    for (let i = 0; i < this.state.entries.length; i++) {\n      if (\n        !this.state.entries[i].subject ||\n        !this.state.entries[i].code ||\n        !this.state.entries[index].subject ||\n        !this.state.entries[index].code\n      )\n        continue;\n\n      let entry = this.state.entries[index];\n      if (entry.subject && entry.code && entry.section) {\n        let datapoint = this.props.data[entry.subject.value][entry.code.value][\n          entry.section.value\n          ];\n        if (\n          datapoint.type[0] === \"Discussion\" ||\n          datapoint.type[0] === \"Activity\"\n        ) {\n          return false;\n        }\n      }\n\n      if (i === index) continue;\n\n      if (\n        this.state.entries[i].subject.value === entry.subject.value &&\n        this.state.entries[i].code.value === entry.code.value\n      ) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  renderActivityButtons(index) {\n    if (!this.shouldFindActivities(index)) return;\n    let entry = this.state.entries[index];\n    if (!entry) return;\n\n    let activities = this.getActivities(\n      entry.subject,\n      entry.code,\n      entry.section\n    ).reduce((obj, activity, i) => {\n      obj.push(\n        <button\n          key={i}\n          className=\"button gray\"\n          onClick={() => {\n            this.addFilledEntry(\n              entry.subject,\n              entry.code,\n              {value: activity, label: activity},\n              index + 1\n            );\n            this.to_focus = index + 2;\n          }}>\n          {activity}\n          {\" | \"}\n          {this.props.getTime(entry.subject.value, entry.code.value, activity)}\n        </button>\n      );\n      return obj;\n    }, []);\n\n    if (activities.length > 0) {\n      return <div>Add activities: {activities}</div>;\n    }\n  }\n\n  render() {\n    this.selector_refs = [];\n    let selectors = this.state.entries.map((entry, index) => {\n      return (\n        <div key={index}>\n          <CourseSelector\n            index={index}\n            subject={entry.subject}\n            code={entry.code}\n            section={entry.section}\n            subject_options={this.state.subject_options}\n            getCodes={this.getCodes}\n            getSections={this.getSections}\n            updateEntry={this.updateEntry}\n            removeEntry={this.removeEntry}\n            focusNextEntry={() => {\n              this.focusNextEntry(index);\n            }}\n            ref={el => {\n              this.selector_refs[index] = el;\n              if (this.to_focus === index) {\n                el.focusSubject();\n                this.to_focus = null;\n              }\n            }}\n          />\n          {this.renderActivityButtons(index)}\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"course-container\">\n        {selectors}\n        <div id=\"course-container-buttons\">\n          <button className=\"button gray large\" onClick={this.addEntry}>\n            Add another course\n          </button>\n          <button className=\"button gray large\" onClick={this.onSubmit}>\n            Submit\n          </button>\n          <img src={process.env.PUBLIC_URL + \"/assets/loading.gif\"}\n            style={{display: this.state.loading ? \"inline\" : \"none\"}}\n            alt=\"Loading...\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CourseContainer;\n","import React from \"react\";\nimport CourseContainer from \"./CourseContainer\";\nimport WeekView from \"./WeekView\";\n\nclass UserScheduleContainer extends React.Component {\n  render() {\n    return (\n      <div>\n        {(this.props.edit_schedule || !this.props.schedule) ?\n          <CourseContainer\n            data={this.props.data}\n            user={this.props.user}\n            initial={this.props.schedule}\n            getTime={(subject, code, section) => {\n              return this.props.getField(subject, code, section, \"time\").join(\", \");\n            }}\n            onSubmit={this.props.onSubmit} />\n          :\n          <WeekView noWeekend={this.props.noWeekend}\n            courses={this.props.courses} startHour={9} endHour={18} />\n        }\n      </div>\n    );\n  }\n}\n\nexport default UserScheduleContainer;","import React from \"react\";\nimport queryString from \"query-string\";\n\nimport WeekView from \"./WeekView.js\";\nimport Card from \"./Card.js\"\n\nimport \"../stylesheets/GroupPage.css\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport UserScheduleContainer from \"./UserScheduleContainer\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass GroupPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      groupId: \"\",\n      user: null,\n      group: {},\n      schedules: [],\n      role: null,\n      exists: true,\n      edit_schedule: false\n    };\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        console.log(user);\n\n        const values = queryString.parse(this.props.location.search);\n        let groupId = values.groupId;\n        if (!groupId) return;\n        this.setState({ groupId: groupId });\n\n        firebase\n          .firestore()\n          .collection(\"groups\")\n          .doc(groupId)\n          .get()\n          .then(group => {\n            this.setState({exists: group.exists});\n            if (!group.exists) return;\n            let roles = group.data().roles;\n            if (roles[user.uid] == null) {\n              roles[user.uid] = \"member\";\n              firebase\n                .firestore()\n                .collection(\"groups\")\n                .doc(groupId)\n                .update({ roles: roles });\n            }\n            this.setState({ role: roles[this.props.user.uid] });\n\n            if (roles[user.uid] === \"member\" && !group.data().settings.members_can_view) {\n              firebase\n                .firestore()\n                .collection(\"groups\")\n                .doc(groupId)\n                .collection(\"schedules\")\n                .doc(user.uid)\n                .get()\n                .then(doc => {\n                  this.setState({\n                    schedules: {\n                      \"My Schedule\": doc.data().schedule\n                    }\n                  });\n                })\n                .catch(err => {\n                  console.log(\"Error getting document --\", err);\n                });\n            } else {\n              firebase\n                .firestore()\n                .collection(\"groups\")\n                .doc(groupId)\n                .collection(\"schedules\")\n                .get()\n                .then(snapshot => {\n                  let schedules = [];\n                  snapshot.forEach(schedule => {\n                    firebase\n                      .firestore()\n                      .collection(\"usernames\")\n                      .doc(schedule.id)\n                      .get()\n                      .then(name => {\n                        schedules[schedule.id] = [name.data().username, schedule.data().schedule];\n                        this.setState({schedules: schedules});\n                      });\n                  });\n                })\n                .catch(err => {\n                  console.log(\"Error getting document --\", err);\n                });\n            }\n          })\n          .catch(err => {\n            console.log(\"Error getting document --\", err);\n          });\n      } else {\n        this.setState({\n          groupId: \"\",\n          user: null,\n          group: {},\n          schedules: [],\n          role: null\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.groupId == null || !this.state.exists) {\n      return (\n        <div id=\"group-page-container\">\n          <h2>Group not found</h2>\n        </div>\n      );\n    }\n\n    if (!this.props.user) {\n      return (\n        <div id=\"group-page-container\">\n          <h2>Please login to view this group</h2>\n        </div>\n      );\n    }\n\n    let courses = [];\n    let user_courses = null;\n    if (this.state.schedules) {\n      Object.keys(this.state.schedules).forEach((uid) => {\n        let courses_i = [];\n        this.state.schedules[uid][1].forEach(course => {\n          let i;\n          let content = course.content;\n          let times = this.props.getField(\n            content.subject,\n            content.code,\n            content.section,\n            \"time\"\n          );\n\n          let days = this.props.getField(\n            content.subject,\n            content.code,\n            content.section,\n            \"days\"\n          );\n\n          let names = this.props.getField(\n            content.subject,\n            content.code,\n            content.section,\n            \"course\"\n          );\n\n          let time_split = [];\n          if (times.constructor === Array) {\n            for (i = 0; i < times.length; i++) {\n              time_split = times[i].split(\"-\");\n              courses_i.push({\n                days: days[i],\n                time_start: time_split[0].trim(),\n                time_end: time_split[1].trim(),\n                name: names[i],\n                times: times[i],\n                course: content.subject + \" \" + content.code + \"-\" + content.section\n              });\n            }\n          }\n        }, this);\n        if (uid === this.props.user.uid) {\n          user_courses = courses_i;\n        }\n        else {\n          courses.push([this.state.schedules[uid][0], courses_i]);\n        }\n      }, this);\n    }\n\n    let schedule_rows = [];\n    for (let i = 0; i < courses.length; i += 2) {\n      schedule_rows.push(\n        <tr key={i}>\n          <td>\n            <div>\n              <WeekView title={courses[i][0]} courses={courses[i][1]} noWeekend />\n            </div>\n          </td>\n          <td>\n            {courses[i + 1] ?\n              <div>\n                <WeekView title={courses[i + 1][0]} courses={courses[i + 1][1]} noWeekend />\n              </div>\n              :\n              null}\n          </td>\n        </tr>\n      );\n    }\n\n    return (\n      <div id=\"group-page-container\">\n        <div id=\"group-my-schedule-card\">\n          <Card title=\"My Schedule\"\n            editButton={<button style={{float: \"right\"}} className=\"button gray\"\n              onClick={() => {this.setState({edit_schedule: !this.state.edit_schedule})}}>\n              {this.state.edit_schedule ? \"Cancel\" : \"Edit schedule\"}</button>}>\n            {this.props.user && this.state.schedules[this.props.user.uid] ?\n              <span>\n              <UserScheduleContainer\n                noWeekend\n                data={this.props.data}\n                user={this.props.user}\n                schedule={this.state.schedules[this.props.user.uid][1]}\n                edit_schedule={this.state.edit_schedule}\n                courses={user_courses}\n                onSubmit={() => {this.setState({edit_schedule: false})}}\n                getField={this.props.getField}\n                getTime={(subject, code, section) => {\n                  return this.props.getField(subject, code, section, \"time\").join(\", \");\n                }} />\n                {/* <button style={{position: \"absolute\", right: 20, bottom: 20}}\n              className={\"button large \" + (this.state.edit_schedule ? \"gray\" : \"green\")}\n              onClick={() => {this.setState({edit_schedule: !this.state.edit_schedule})}}>\n              {this.state.edit_schedule ? \"Cancel\" : \"Edit schedule\"}\n              </button> */}\n              </span>\n              :\n              null}\n          </Card>\n        </div>\n        <div id=\"group-schedules\">\n          {courses.map((courses_i, i) => {\n            return <WeekView key={i} title={courses_i[0]} courses={courses_i[1]} noWeekend />\n          })}\n        </div>\n        {/* <table id=\"group-schedules\">\n          <tbody>\n            {schedule_rows}\n          </tbody>\n        </table> */}\n        {/* courses.map((courses_i, i) => {\n              return (\n                <div key={i}>\n                  <WeekView title={courses_i[0]} courses={courses_i[1]} noWeekend />\n                </div>\n              );\n            }) */}\n      </div>\n    );\n  }\n}\n\nexport default GroupPage;\n","import React from \"react\";\nimport {Link} from \"react-router-dom\"\n\nimport Card from \"./Card.js\";\nimport UserScheduleContainer from \"./UserScheduleContainer\"\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\n\nimport \"../stylesheets/Landing.css\";\n\nclass Landing extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { title: \"\", groups: {}, schedule: null, edit_schedule: false };\n\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        let groups_ref = firebase.firestore().collection(\"groups\");\n\n        let groups_refs = [\n          groups_ref.where(\"roles.\" + user.uid, \"==\", \"owner\"),\n          groups_ref.where(\"roles.\" + user.uid, \"==\", \"viewer\"),\n          groups_ref.where(\"roles.\" + user.uid, \"==\", \"member\")\n        ];\n\n        groups_refs.forEach(groups_i_ref => {\n          groups_i_ref.get().then(snapshot => {\n            snapshot.forEach(doc => {\n              let groups_new = this.state.groups;\n              groups_new[doc.id] = doc.data();\n              this.setState({ groups: groups_new });\n            });\n          });\n        });\n\n        firebase\n          .firestore()\n          .collection(\"schedules\")\n          .doc(user.uid)\n          .onSnapshot(doc => {\n            if (doc.data()) {\n              this.setState({\n                schedule: doc.data().schedule\n              });\n            }\n          });\n      }\n    });\n  }\n\n  createGroup(title) {\n    if (title && title !== \"\" && this.props.user) {\n      let groups_ref = firebase.firestore().collection(\"groups\");\n      groups_ref.doc().set({\n        title: title,\n        roles: { [this.props.user.uid]: \"owner\" },\n        settings: { members_can_view: true }\n      });\n    }\n  }\n\n  onChangeTitle(e) {\n    this.setState({ title: e.target.value });\n  }\n\n  render() {\n    if (!this.props.user) {\n      return (\n        <div>\n          <p>Please log in to create or view schedule groups</p>\n        </div>\n      );\n    }\n\n    let groups = Object.keys(this.state.groups).map((key, i) => {\n      return (\n        <li key={i}>\n          <Link to={\"/group/?groupId=\" + key}>\n            {this.state.groups[key].title}\n          </Link>\n        </li>\n      );\n    });\n\n    let courses = [];\n    if (this.state.schedule) {\n      this.state.schedule.forEach(course => {\n        let i;\n        let content = course.content;\n        let times = this.props.getField(\n          content.subject,\n          content.code,\n          content.section,\n          \"time\"\n        );\n\n        let days = this.props.getField(\n          content.subject,\n          content.code,\n          content.section,\n          \"days\"\n        );\n\n        let names = this.props.getField(\n          content.subject,\n          content.code,\n          content.section,\n          \"course\"\n        );\n\n        let time_split = [];\n        if (times.constructor === Array) {\n          for (i = 0; i < times.length; i++) {\n            time_split = times[i].split(\"-\");\n            courses.push({\n              days: days[i],\n              time_start: time_split[0].trim(),\n              time_end: time_split[1].trim(),\n              name: names[i],\n              times: times[i],\n              course: content.subject + \" \" + content.code + \"-\" + content.section\n            });\n          }\n        }\n      }, this);\n    }\n\n    return (\n      <div id=\"landing-container\">\n        <div id=\"create-group-card\">\n          <Card title=\"Create a Group\">\n            <label id=\"name-label\">\n              <p>Name</p>\n              <input\n                type=\"text\"\n                onChange={this.onChangeTitle}\n                placeholder=\"Enter a group name\"\n                value={this.state.title}\n              />\n            </label>\n            <br />\n            <label id=\"checkbox-label\">\n              <p>Members can view all schedules</p>\n              <input\n                type=\"checkbox\"\n                onChange={() => {\n                  return 0;\n                }}\n                value={false}\n              />\n            </label>\n            <button\n              id=\"create-group-button\"\n              className=\"button green large\"\n              onClick={() => {\n                this.createGroup(this.state.title);\n              }}\n            >\n              Create Group\n            </button>\n          </Card>\n        </div>\n        <div id=\"my-groups-card\">\n          <Card title=\"My Groups\">\n            <ul>{groups}</ul>\n          </Card>\n        </div>\n        <div id=\"my-schedules-card\">\n          <Card title=\"My Schedule\"\n            editButton={<button style={{float: \"right\"}} className=\"button gray\"\n              onClick={() => {this.setState({edit_schedule: !this.state.edit_schedule})}}>\n              {this.state.edit_schedule ? \"Cancel\" : \"Edit schedule\"}</button>}>\n            <UserScheduleContainer\n              noWeekend\n              data={this.props.data}\n              user={this.props.user}\n              schedule={this.state.schedule}\n              edit_schedule={this.state.edit_schedule}\n              courses={courses}\n              getField={this.props.getField}\n              onSubmit={() => {this.setState({edit_schedule: false})}} />\n          </Card>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Landing;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport GroupPage from \"./GroupPage.js\";\nimport Landing from \"./Landing.js\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {data: null};\n\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        firebase\n          .firestore()\n          .collection(\"usernames\")\n          .doc(user.uid)\n          .get()\n          .then(doc => {\n            if (doc.data() == null) {\n              firebase\n                .firestore()\n                .collection(\"usernames\")\n                .doc(user.uid)\n                .set({ username: user.displayName });\n            }\n          });\n      }\n    });\n\n    this.getField = this.getField.bind(this);\n  }\n\n  componentDidMount() {\n    const ref = this;\n    import(\"../data/data.json\").then(data => {\n      ref.setState({ data: data[\"default\"] || data });\n    });\n  }\n\n  getField(subject, code, section, field) {\n    if (this.state.data && subject && code && section) {\n      let course = this.state.data[subject][code][section];\n      if (course) {\n        if (course[field].constructor === Array) {\n          return course[field];\n        } else {\n          let out = [];\n          out.push(course[field]);\n          return out;\n        }\n      }\n\n      return \"\";\n    }\n    return \"\";\n  }\n\n  render() {\n    return (\n      <Switch>\n        <Route\n          exact path=\"/\"\n          render={props =>\n            <Landing {...props}\n              user={this.props.user}\n              data={this.state.data} getField={this.getField}\n            />}\n        />\n        <Route\n          path=\"/group\"\n          render={props =>\n            <GroupPage {...props}\n              user={this.props.user}\n              data={this.state.data} getField={this.getField} />}\n        />\n      </Switch>\n    );\n  }\n}\n\nexport default Main;\n","import React from \"react\";\n\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = { user: null };\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(user => {\n      user ? this.setState({ user: user }) : this.setState({ user: null });\n    });\n  }\n\n  render() {\n    return (\n      <div id=\"app\">\n        <Header\n          user={this.state.user}\n          login={user => {\n            this.setState({ user: user });\n          }}\n          logout={() => {\n            this.setState({ user: null });\n          }}\n        />\n        <Main user={this.state.user} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker.js';\nimport App from './components/App.js'\n\nimport './stylesheets/index.css'\n\nReactDOM.render((\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <App />\n  </BrowserRouter>\n  ), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}