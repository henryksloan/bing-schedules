{"version":3,"sources":["serviceWorker.js","firebase.js","components/Header.js","components/ScheduleSelector.js","components/WeekView.js","components/Card.js","components/CourseSelector.js","components/CourseContainer.js","components/UserScheduleContainer.js","components/GroupPage.js","components/Landing.js","components/Main.js","components/App.js","index.js"],"names":["Boolean","window","location","hostname","match","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firestore","settings","timestampsInSnapshots","provider","auth","GoogleAuthProvider","Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","login","bind","assertThisInitialized","logout","_this2","signOut","then","_this3","setCustomParameters","prompt","signInWithPopup","result","user","react_default","a","createElement","id","Link","to","alt","src","process","displayName","email","className","onClick","React","Component","ScheduleSelector","state","schedule","_ismounted","nextProps","collection","doc","uid","onSnapshot","data","setState","group_id","set","WeekView","weekend","courses","some","course","days","includes","noWeekend","weekdays","days_header","map","day","index","key","substr","splice","hour_min","hour_max","forEach","start_hour","Date","time_start","toUpperCase","trim","getHours","end_hour","time_end","overrides","endHour","startHour","row_groups","i","row_group","j","row","push","rowSpan","k","length","row_groups_default","addBlock","addBlockAtTime","indexOf","charAt","name","day_index","group_index","row_index","row_span","inner_html","day_fixed","style","backgroundColor","height","Math","floor","start_date","start_obj","hour","quarter","round","getMinutes","end_date","end_obj","width","_","title","colSpan","Card","children","CourseSelector","changeSubject","changeCode","changeSection","selected","updateEntry","subject","code","section","code_select","focus","section_select","_this4","focusNextEntry","subject_select","_this5","_this$props","code_options","getCodes","section_options","getSections","react_select_esm","tabIndex","value","onChange","options","subject_options","placeholder","openMenuOnFocus","tabSelectsValue","classNamePrefix","filterOption","createFilter","matchFrom","ref","el","isDisabled","components","Option","time","split","isOptionDisabled","option","already_entered","verticalAlign","cursor","removeEntry","CourseContainer","opt","keys","reduce","obj","x","label","initial_entries","initial","content","entries","selector_refs","loading","getActivities","addEntry","addFilledEntry","onSubmit","shouldFindActivities","renderActivityButtons","raw","entry","type","getTime","changed_info","callback","assign","filter","section_key","entries_to_submit","console","log","schedule_list","catch","err","groups_ref","where","groups_i_ref","get","snapshot","exists","to_focus","focusSubject","datapoint","_this6","activities","activity","_this7","selectors","components_CourseSelector","display","UserScheduleContainer","edit_schedule","components_CourseContainer","getField","join","components_WeekView","GroupPage","groupId","group","schedules","role","onAuthStateChanged","queryString","parse","search","roles","update","members_can_view","username","My Schedule","user_courses","courses_i","times","names","time_split","constructor","Array","schedule_rows","components_Card","components_ScheduleSelector","components_UserScheduleContainer","Landing","groups","onChangeTitle","groups_new","defineProperty","e","target","createGroup","position","right","bottom","Main","__webpack_require__","t","field","out","Switch","Route","exact","path","render","components_Landing","components_GroupPage","App","components_Header","components_Main","ReactDOM","BrowserRouter","basename","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.82f88eae.chunk.js","sourcesContent":["// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\nvar config = {\n\n  apiKey: \"AIzaSyAtkDMcmqJXjxNRvx84gYKQqssbarfkaOs\",\n  authDomain: \"bing-schedules.firebaseapp.com\",\n  databaseURL: \"https://bing-schedules.firebaseio.com\",\n  projectId: \"bing-schedules\",\n  storageBucket: \"bing-schedules.appspot.com\",\n  messagingSenderId: \"249912717870\"\n};\nfirebase.initializeApp(config);\n\nconst firestore = firebase.firestore();\nconst settings = {timestampsInSnapshots: true};\nfirestore.settings(settings);\n\nexport default firebase;\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\n\nimport \"../stylesheets/Header.css\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  logout() {\n    auth.signOut().then(() => {\n      this.props.logout();\n    });\n  }\n\n  login() {\n    provider.setCustomParameters({\n      prompt: \"select_account\"\n    });\n\n    auth.signInWithPopup(provider).then(result => {\n      const user = result.user;\n      this.props.login(user);\n    });\n  }\n\n  render() {\n    return (\n      <header id=\"top-header\">\n        <Link to=\"/\">\n          <img alt=\"logo\" src={process.env.PUBLIC_URL + \"/assets/logo.png\"} />\n          <h1>Binghamton Schedule Manager</h1>\n        </Link>\n        <div id=\"top-header-auth-button\">\n          <p>\n            {this.props.user\n              ? this.props.user.displayName || this.props.user.email\n              : \"\"}\n          </p>\n          {this.props.user ? (\n            <button className=\"button gray\" onClick={this.logout}>\n              Log Out\n            </button>\n          ) : (\n            <button className=\"button gray\" onClick={this.login}>\n              Log In\n            </button>\n          )}\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React from \"react\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass ScheduleSelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {schedule: null};\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  componentDidMount() {\n    this._ismounted = true;\n  }\n\n  componentWillUnmount() {\n    this._ismounted = false;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!nextProps.user) return;\n    firebase\n      .firestore()\n      .collection(\"schedules\")\n      .doc(nextProps.user.uid)\n      .onSnapshot(doc => {\n        if (doc.data() && this._ismounted) {\n          this.setState({\n            schedule: doc.data().schedule\n          });\n        }\n      });\n  }\n\n  onClick() {\n    firebase\n      .firestore()\n      .collection(\"groups\")\n      .doc(this.props.group_id)\n      .collection(\"schedules\")\n      .doc(this.props.user.uid)\n      .set({ schedule: this.state.schedule });\n  }\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.onClick}>Add my schedule</button>\n      </div>\n    );\n  }\n}\n\nexport default ScheduleSelector;","import React from \"react\";\n\nimport \"../stylesheets/WeekView.css\";\n\nclass WeekView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    let weekend = false;\n    this.props.courses.some(course => {\n      if (course.days.includes(\"S\") || course.days.includes(\"U\")) {\n        weekend = true;\n        return false;\n      }\n      return true;\n    });\n\n    if (this.props.noWeekend && !weekend) {\n      this.weekdays = [\n        \"Monday\",\n        \"Tuesday\",\n        \"Wednesday\",\n        \"Thursday\",\n        \"Friday\"\n      ]\n    }\n    else {\n      this.weekdays = [\n        \"Monday\",\n        \"Tuesday\",\n        \"Wednesday\",\n        \"Thursday\",\n        \"Friday\",\n        \"Saturday\",\n        \"Sunday\"\n      ];\n    }\n    this.days_header = this.weekdays.map((day, index) => {\n      return (\n        <th key={index + 1} className=\"weekview-cell-label\">\n          <span>{day.substr(0, 3)}</span>\n        </th>\n      );\n    });\n    this.days_header.splice(\n      0,\n      0,\n      <th key={0} className=\"weekview-cell-label\" />\n    );\n\n    // TODO: Handle the case where the last end time is an exact hour\n    // i.e. Should an empty hour be shown?\n    this.hour_min = null;\n    this.hour_max = null;\n    this.props.courses.forEach(course => {\n      let start_hour = new Date(\n        \"1/1/1970 \" + course.time_start.toUpperCase().trim()\n      ).getHours();\n      if (start_hour < this.hour_min || this.hour_min == null)\n        this.hour_min = start_hour;\n\n      let end_hour = new Date(\n        \"1/1/1970 \" + course.time_end.toUpperCase().trim()\n      ).getHours();\n      if (end_hour > this.hour_max || this.hour_max == null)\n        this.hour_max = end_hour;\n    });\n\n    let overrides = 0;\n    if (this.props.endHour && this.props.endHour > this.hour_max) {\n      this.hour_max = this.props.endHour;\n      overrides += 1;\n    }\n\n    if (this.props.startHour && this.props.startHour < this.hour_min) {\n      this.hour_min = this.props.startHour;\n      overrides += 1;\n    }\n\n    // console.log(this.hour_max - this.hour_min, this.props.optimalSize, this.hour_max - this.hour_min + 1 - this.props.optimalSize);\n    if (overrides > 0) this.hour_min += (this.hour_max - this.hour_min) - (this.props.endHour - this.props.startHour);\n\n    // TODO: IMPORTANT -- Fix times that pass midnight into another day\n    let row_groups = [];\n    for (let i = this.hour_min; i <= this.hour_max; i++) {\n      let row_group = [];\n      for (let j = 0; j < 4; j++) {\n        let row = [];\n        if (j === 0) {\n          row.push(\n            <td key={0} rowSpan={4} className=\"weekview-cell-label\">\n              {((i + 11) % 12) + 1 + (i >= 12 ? \"PM\" : \"AM\")}\n            </td>\n          );\n        }\n\n        for (let k = 0; k < this.weekdays.length; k++) {\n          row.push(<td key={this.weekdays[k]} className=\"weekview-cell-empty\" />);\n        }\n        row_group.push(row);\n      }\n      row_groups.push(row_group);\n    }\n    this.row_groups_default = row_groups;\n\n    this.state = { row_groups: row_groups };\n\n    this.addBlock = this.addBlock.bind(this);\n    this.addBlockAtTime = this.addBlockAtTime.bind(this);\n  }\n\n  componentDidMount() {\n    if (!this.props.courses) return;\n    const day_codes = \"MTWRFSU\";\n    this.props.courses.forEach(course => {\n      for (let i = 0; i < course.days.length; i++) {\n        this.addBlockAtTime(\n          day_codes.indexOf(course.days.charAt(i)),\n          course.time_start,\n          course.time_end,\n          course.name\n        );\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ row_groups: this.row_groups_default });\n    const day_codes = \"MTWRFSU\";\n    nextProps.courses.forEach(course => {\n      for (let i = 0; i < course.days.length; i++) {\n        this.addBlockAtTime(\n          day_codes.indexOf(course.days.charAt(i)),\n          course.time_start,\n          course.time_end,\n          course.name\n        );\n      }\n    });\n  }\n\n  // Adds a cell of rowSpan row_span at:\n  // (day_index)th day column of the (row_index)th row in the (group_index)th row group\n  // containing the inner html provided by inner_html\n  // addBlockAtTime wraps this for ease of use\n  addBlock(day_index, group_index, row_index, row_span, inner_html) {\n    let day_fixed = row_index === 0 ? day_index + 1 : day_index;\n    let row_groups = this.state.row_groups;\n    let key = row_groups[group_index][row_index][day_fixed].key;\n    row_groups[group_index][row_index][day_fixed] = (\n      <td rowSpan={row_span} style={{ backgroundColor: \"#ccc\", height: \"100%\" }} key={key}>\n        <span><div>{inner_html}</div></span>\n      </td>\n    );\n\n    for (let i = 1; i < row_span; i++) {\n      let row =\n        row_groups[group_index + Math.floor((row_index + i) / 4)][\n        (row_index + i) % 4\n          ];\n      row[day_index + ((row_index + i) % 4 === 0 ? 1 : 0)] = null;\n    }\n\n    this.setState({ row_groups: row_groups });\n  }\n\n  // Adds a cell:\n  // (day_index)th day column, spanning from time_start to time_end, rounded to the nearest 15 minutes\n  // containing the inner html provided by inner_html\n  // Times are in the form H:MM {AM | PM} (space required before suffix)\n  // TODO: Don't require space before suffix\n  addBlockAtTime(day_index, time_start, time_end, inner_html) {\n    let start_date = new Date(\"1/1/1970 \" + time_start.toUpperCase().trim());\n    let start_obj = {\n      hour: start_date.getHours(),\n      quarter: Math.round(start_date.getMinutes() / 15)\n    };\n\n    let end_date = new Date(\"1/1/1970 \" + time_end.toUpperCase().trim());\n    let end_obj = {\n      hour: end_date.getHours(),\n      quarter: Math.round(end_date.getMinutes() / 15)\n    };\n\n    let group_index = start_obj.hour - this.hour_min;\n    if (group_index < 0) group_index = 24 + group_index;\n    let row_index = start_obj.quarter;\n    let row_span = 0;\n\n    // Add 4 rows for every whole hour greater\n    if (end_obj.hour > start_obj.hour) {\n      row_span += 4 * (end_obj.hour - start_obj.hour - 1);\n    }\n    row_span += 4 - start_obj.quarter + end_obj.quarter;\n\n    this.addBlock(day_index, group_index, row_index, row_span, inner_html);\n  }\n\n  render() {\n    let row_groups = this.state.row_groups;\n\n    return (\n      <table className=\"weekview-table\">\n        <colgroup>\n          <col style={{ width: \"50px\" }} />\n          {this.weekdays.map((_, index) => { return <col key={index} style={{ width: \"100px\" }} /> })}\n        </colgroup>\n\n        <thead>\n          {this.props.title ?\n            <tr className=\"weekview-title\">\n              <td colSpan={this.weekdays.length + 1}>{this.props.title}</td>\n            </tr>\n            :\n            null\n          }\n          <tr>{this.days_header}</tr>\n        </thead>\n        <tbody>\n          {row_groups.map((row_group) => {\n            return row_group.map((row, row_index) => {\n              return <tr key={\"row\" + row_index}>{row}</tr>;\n            });\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default WeekView;\n","import React from \"react\";\n\nimport \"../stylesheets/Card.css\";\n\nclass Card extends React.Component {\n  render() {\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">{this.props.title}</div>\n        <div className=\"card-content\">{this.props.children}</div>\n      </div>\n    );\n  }\n}\n\nexport default Card;\n","import React from \"react\";\n\nimport Select, { createFilter, components } from \"react-select\";\n\nclass CourseSelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeSubject = this.changeSubject.bind(this);\n    this.changeCode = this.changeCode.bind(this);\n    this.changeSection = this.changeSection.bind(this);\n  }\n\n  changeSubject(selected) {\n    this.props.updateEntry(\n      this.props.index,\n      { subject: selected, code: null, section: null },\n      () => this.code_select.focus()\n    );\n  }\n\n  changeCode(selected) {\n    this.props.updateEntry(\n      this.props.index,\n      { code: selected, section: null },\n      () => this.section_select.focus()\n    );\n  }\n\n  changeSection(selected) {\n    this.props.updateEntry(\n      this.props.index,\n      { section: selected.length === 0 ? null : selected },\n      () => (selected.length === 0 ? null : this.props.focusNextEntry())\n    );\n  }\n\n  focusSubject() {\n    this.subject_select.focus();\n  }\n\n  render() {\n    const { subject, code, section } = this.props;\n\n    let code_options = this.props.getCodes(subject);\n    let section_options = this.props.getSections(subject, code);\n\n    return (\n      <div>\n        <Select\n          tabIndex={0}\n          value={subject}\n          onChange={this.changeSubject}\n          options={this.props.subject_options}\n          placeholder=\"Select Subject\"\n          openMenuOnFocus={true}\n          tabSelectsValue={false}\n          className=\"course-select\"\n          classNamePrefix=\"react-select\"\n          filterOption={createFilter({ matchFrom: \"start\" })}\n          ref={el => {\n            this.subject_select = el;\n          }}\n        />\n        <Select\n          tabIndex={0}\n          value={code}\n          onChange={this.changeCode}\n          options={code_options}\n          placeholder=\"Select Course\"\n          openMenuOnFocus={true}\n          tabSelectsValue={false}\n          isDisabled={code_options.length === 0}\n          className=\"course-select\"\n          classNamePrefix=\"react-select\"\n          filterOption={createFilter({ matchFrom: \"start\" })}\n          ref={el => {\n            this.code_select = el;\n          }}\n        />\n        <Select\n          tabIndex={0}\n          value={section}\n          onChange={this.changeSection}\n          options={section_options}\n          placeholder=\"Select Section\"\n          openMenuOnFocus={true}\n          tabSelectsValue={false}\n          isDisabled={section_options.length === 0}\n          className=\"course-select\"\n          classNamePrefix=\"react-select\"\n          filterOption={createFilter({ matchFrom: \"start\" })}\n          components={{\n            Option: props => {\n              return (\n                <div>\n                  <components.Option {...props}>\n                    {props.children}\n                    <span\n                      className={\n                        props.data.time.indexOf(\", \") > -1 ? \"multiple\" : \"\"\n                      }\n                    >\n                      {props.data.time.split(\", \").map((time, index) => {\n                        return [time, <br key={index} />];\n                      })}\n                    </span>\n                  </components.Option>\n                </div>\n              );\n            }\n          }}\n          isOptionDisabled={option => option.already_entered}\n          ref={el => {\n            this.section_select = el;\n          }}\n        />\n        <img\n          src={process.env.PUBLIC_URL + \"/assets/cross.png\"}\n          alt=\"Delete entry\"\n          style={{ verticalAlign: \"middle\", cursor: \"pointer\" }}\n          width=\"16\"\n          height=\"16\"\n          onClick={() => {\n            this.props.removeEntry(this.props.index);\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default CourseSelector;\n","import React from \"react\";\n\nimport CourseSelector from \"./CourseSelector.js\";\n\nimport \"../stylesheets/CourseContainer.css\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass CourseContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const opt = (props.data)\n      ? Object.keys(props.data).reduce((obj, x) => {\n        obj.push({ value: x, label: x });\n        return obj;\n      }, [])\n      : [];\n\n    let initial_entries = [\n      { subject: null, code: null, section: null },\n      { subject: null, code: null, section: null }\n    ];\n\n    if (props.initial) {\n      initial_entries = props.initial.reduce((obj, x) => {\n        obj.push({subject: {value: x.content.subject, label: x.content.subject},\n                  code: {value: x.content.code, label: x.content.code},\n                  section: {value: x.content.section, label: x.content.section}});\n        return obj;\n      }, []);\n    }\n\n    this.state = {\n      subject_options: opt,\n      entries: initial_entries,\n      selector_refs: [],\n      loading: false\n    };\n\n    this.getCodes = this.getCodes.bind(this);\n    this.getSections = this.getSections.bind(this);\n    this.updateEntry = this.updateEntry.bind(this);\n    this.getActivities = this.getActivities.bind(this);\n    this.addEntry = this.addEntry.bind(this);\n    this.addFilledEntry = this.addFilledEntry.bind(this);\n    this.removeEntry = this.removeEntry.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.focusNextEntry = this.focusNextEntry.bind(this);\n    this.shouldFindActivities = this.shouldFindActivities.bind(this);\n    this.renderActivityButtons = this.renderActivityButtons.bind(this);\n  }\n\n  getCodes(subject) {\n    if (subject && subject.value) {\n      return Object.keys(this.props.data[subject.value]).reduce((obj, x) => {\n        obj.push({ value: x, label: x });\n        return obj;\n      }, []);\n    }\n\n    return [];\n  }\n\n  getSections(subject, code) {\n    if (subject && code && subject.value && code.value) {\n      let raw = Object.keys(this.props.data[subject.value][code.value]).reduce(\n        (obj, x) => {\n          let already_entered = false;\n          for (let entry in this.state.entries) {\n            if (\n              this.state.entries[entry].subject &&\n              this.state.entries[entry].code &&\n              this.state.entries[entry].section &&\n              this.state.entries[entry].subject.value === subject.value &&\n              this.state.entries[entry].code.value === code.value &&\n              this.state.entries[entry].section.value === x\n            ) {\n              already_entered = true;\n              break;\n            }\n          }\n\n          let type = this.props.data[subject.value][code.value][x].type[0];\n          if (!obj[type]) obj[type] = [];\n          obj[type].push({\n            value: x,\n            label: x,\n            time: this.props.getTime(subject.value, code.value, x),\n            already_entered: already_entered\n          });\n          return obj;\n        },\n        {}\n      );\n\n      return Object.entries(raw).reduce((obj, x) => {\n        obj.push({ label: x[0], options: x[1] });\n        return obj;\n      }, []);\n    }\n\n    return [];\n  }\n\n  updateEntry(index, changed_info, callback) {\n    let entries = this.state.entries;\n    if (entries[index] === null || changed_info === null) return;\n    entries[index] = Object.assign(entries[index], changed_info);\n    this.setState({ entries: entries }, callback);\n  }\n\n  getActivities(subject, code, section) {\n    if (\n      subject &&\n      code &&\n      section &&\n      subject.value &&\n      code.value &&\n      section.value\n    ) {\n      return Object.keys(this.props.data[subject.value][code.value]).filter(\n        section_key => {\n          let section = this.props.data[subject.value][code.value][section_key];\n          return (\n            section.type[0] === \"Activity\" || section.type[0] === \"Discussion\"\n          );\n        }\n      );\n    }\n\n    return [];\n  }\n\n  addEntry() {\n    let entries = this.state.entries;\n    entries.push({ subject: null, code: null, section: null });\n    this.setState({ entries: entries });\n  }\n\n  addFilledEntry(subject, code, section, index) {\n    let entries = this.state.entries;\n    entries.splice(index, 0, {\n      subject: subject,\n      code: code,\n      section: section\n    });\n    this.setState({ entries: entries });\n  }\n\n  removeEntry(index) {\n    let entries = this.state.entries;\n    entries.splice(index, 1);\n    this.setState({ entries: entries }, () => {\n      if (this.state.entries.length === 0) this.addEntry();\n    });\n  }\n\n  componentDidMount() {\n    this._ismounted = true;\n  }\n\n  componentWillUnmount() {\n    this._ismounted = false;\n  }\n\n  onSubmit() {\n    let entries_to_submit = [];\n    for (let i = 0; i < this.state.entries.length; i++) {\n      if (\n        this.state.entries[i].subject == null &&\n        this.state.entries[i].code == null &&\n        this.state.entries[i].section == null\n      ) {\n        // TODO: In this case, just skip it\n        console.log(\"All null\");\n        continue;\n      }\n\n      if (\n        this.state.entries[i].subject == null ||\n        this.state.entries[i].code == null ||\n        this.state.entries[i].section == null\n      ) {\n        // TODO: Improve and actually display this message\n        console.log(\"Please enter all fields or remove the row to continue\");\n        continue;\n      }\n\n      entries_to_submit.push(this.state.entries[i]);\n    }\n\n    if (entries_to_submit.length === 0) {\n      // TODO: Just disable submit in this case\n      console.log(\"Please enter a course\");\n      return;\n    }\n\n    var schedule_list = entries_to_submit.map(entry => {\n      return {\n        type: \"course\",\n        content: {\n          subject: entry.subject.value,\n          code: entry.code.value,\n          section: entry.section.value\n        }\n      };\n    });\n\n    this.setState({loading: true});\n    firebase\n      .firestore()\n      .collection(\"schedules\")\n      .doc(this.props.user.uid)\n      .set({ schedule: schedule_list })\n      .then(() => {\n        this.props.onSubmit();\n        if (this._ismounted) {\n          this.setState({loading: false});\n        }\n      })\n      .catch(err => {\n        console.log(\"Error getting document --\", err);\n      });\n\n\n    let groups_ref = firebase.firestore().collection(\"groups\");\n\n    let groups_refs = [\n      groups_ref.where(\"roles.\" + this.props.user.uid, \"==\", \"owner\"),\n      groups_ref.where(\"roles.\" + this.props.user.uid, \"==\", \"viewer\"),\n      groups_ref.where(\"roles.\" + this.props.user.uid, \"==\", \"member\")\n    ];\n\n    groups_refs.forEach(groups_i_ref => {\n      groups_i_ref.get().then(snapshot => {\n        snapshot.forEach(doc => {\n          doc.ref.collection(\"schedules\").doc(this.props.user.uid).get().then((schedule) => {\n            if (schedule.exists) {\n              doc.ref.collection(\"schedules\").doc(this.props.user.uid).set({schedule: schedule_list});\n            }\n          });\n        }, this);\n      });\n    }, this);\n  }\n\n  focusNextEntry(index) {\n    if (this.selector_refs.length <= index + 1) {\n      this.addEntry();\n      this.to_focus = index + 1;\n    } else {\n      this.selector_refs[index + 1].focusSubject();\n    }\n  }\n\n  shouldFindActivities(index) {\n    for (let i = 0; i < this.state.entries.length; i++) {\n      if (\n        !this.state.entries[i].subject ||\n        !this.state.entries[i].code ||\n        !this.state.entries[index].subject ||\n        !this.state.entries[index].code\n      )\n        continue;\n\n      let entry = this.state.entries[index];\n      if (entry.subject && entry.code && entry.section) {\n        let datapoint = this.props.data[entry.subject.value][entry.code.value][\n          entry.section.value\n          ];\n        if (\n          datapoint.type[0] === \"Discussion\" ||\n          datapoint.type[0] === \"Activity\"\n        ) {\n          return false;\n        }\n      }\n\n      if (i === index) continue;\n\n      if (\n        this.state.entries[i].subject.value === entry.subject.value &&\n        this.state.entries[i].code.value === entry.code.value\n      ) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  renderActivityButtons(index) {\n    if (!this.shouldFindActivities(index)) return;\n    let entry = this.state.entries[index];\n    if (!entry) return;\n\n    let activities = this.getActivities(\n      entry.subject,\n      entry.code,\n      entry.section\n    ).reduce((obj, activity, i) => {\n      obj.push(\n        <button\n          key={i}\n          className=\"button gray\"\n          onClick={() => {\n            this.addFilledEntry(\n              entry.subject,\n              entry.code,\n              {value: activity, label: activity},\n              index + 1\n            );\n            this.to_focus = index + 2;\n          }}>\n          {activity}\n          {\" | \"}\n          {this.props.getTime(entry.subject.value, entry.code.value, activity)}\n        </button>\n      );\n      return obj;\n    }, []);\n\n    if (activities.length > 0) {\n      return <div>Add activities: {activities}</div>;\n    }\n  }\n\n  render() {\n    this.selector_refs = [];\n    let selectors = this.state.entries.map((entry, index) => {\n      return (\n        <div key={index}>\n          <CourseSelector\n            index={index}\n            subject={entry.subject}\n            code={entry.code}\n            section={entry.section}\n            subject_options={this.state.subject_options}\n            getCodes={this.getCodes}\n            getSections={this.getSections}\n            updateEntry={this.updateEntry}\n            removeEntry={this.removeEntry}\n            focusNextEntry={() => {\n              this.focusNextEntry(index);\n            }}\n            ref={el => {\n              this.selector_refs[index] = el;\n              if (this.to_focus === index) {\n                el.focusSubject();\n                this.to_focus = null;\n              }\n            }}\n          />\n          {this.renderActivityButtons(index)}\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"course-container\">\n        {selectors}\n        <div id=\"course-container-buttons\">\n          <button className=\"button gray large\" onClick={this.addEntry}>\n            Add another course\n          </button>\n          <button className=\"button gray large\" onClick={this.onSubmit}>\n            Submit\n          </button>\n          <img src={process.env.PUBLIC_URL + \"/assets/loading.gif\"}\n            style={{display: this.state.loading ? \"inline\" : \"none\"}}\n            alt=\"Loading...\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CourseContainer;\n","import React from \"react\";\nimport CourseContainer from \"./CourseContainer\";\nimport WeekView from \"./WeekView\";\n\nclass UserScheduleContainer extends React.Component {\n  render() {\n    return (\n      <div>\n        {(this.props.edit_schedule || !this.props.schedule) ?\n          <CourseContainer\n            data={this.props.data}\n            user={this.props.user}\n            initial={this.props.schedule}\n            getTime={(subject, code, section) => {\n              return this.props.getField(subject, code, section, \"time\").join(\", \");\n            }}\n            onSubmit={this.props.onSubmit} />\n          :\n          <WeekView noWeekend={this.props.noWeekend}\n            courses={this.props.courses} startHour={9} endHour={18} />\n        }\n      </div>\n    );\n  }\n}\n\nexport default UserScheduleContainer;","import React from \"react\";\nimport queryString from \"query-string\";\n\nimport ScheduleSelector from \"./ScheduleSelector.js\";\nimport WeekView from \"./WeekView.js\";\nimport Card from \"./Card.js\"\n\nimport \"../stylesheets/GroupPage.css\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport UserScheduleContainer from \"./UserScheduleContainer\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass GroupPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      groupId: \"\",\n      user: null,\n      group: {},\n      schedules: [],\n      role: null\n    };\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        console.log(user);\n\n        const values = queryString.parse(this.props.location.search);\n        let groupId = values.groupId;\n        if (!groupId) return;\n        this.setState({ groupId: groupId });\n\n        firebase\n          .firestore()\n          .collection(\"groups\")\n          .doc(groupId)\n          .get()\n          .then(group => {\n            let roles = group.data().roles;\n            if (roles[user.uid] == null) {\n              roles[user.uid] = \"member\";\n              firebase\n                .firestore()\n                .collection(\"groups\")\n                .doc(groupId)\n                .update({ roles: roles });\n            }\n            this.setState({ role: roles[this.props.user.uid] });\n\n            if (roles[user.uid] === \"member\" && !group.data().settings.members_can_view) {\n              firebase\n                .firestore()\n                .collection(\"groups\")\n                .doc(groupId)\n                .collection(\"schedules\")\n                .doc(user.uid)\n                .get()\n                .then(doc => {\n                  this.setState({\n                    schedules: {\n                      \"My Schedule\": doc.data().schedule\n                    }\n                  });\n                })\n                .catch(err => {\n                  console.log(\"Error getting document --\", err);\n                });\n            } else {\n              firebase\n                .firestore()\n                .collection(\"groups\")\n                .doc(groupId)\n                .collection(\"schedules\")\n                .get()\n                .then(snapshot => {\n                  let schedules = [];\n                  snapshot.forEach(schedule => {\n                    firebase\n                      .firestore()\n                      .collection(\"usernames\")\n                      .doc(schedule.id)\n                      .get()\n                      .then(name => {\n                        schedules[schedule.id] = [name.data().username, schedule.data().schedule];\n                        this.setState({schedules: schedules});\n                      });\n                  });\n                })\n                .catch(err => {\n                  console.log(\"Error getting document --\", err);\n                });\n            }\n          })\n          .catch(err => {\n            console.log(\"Error getting document --\", err);\n          });\n      } else {\n        this.setState({\n          groupId: \"\",\n          user: null,\n          group: {},\n          schedules: [],\n          role: null\n        });\n      }\n    });\n  }\n\n  render() {\n    let courses = [];\n    let user_courses = null;\n    if (this.state.schedules) {\n      Object.keys(this.state.schedules).forEach((uid) => {\n        let courses_i = [];\n        this.state.schedules[uid][1].forEach(course => {\n          let i;\n          let content = course.content;\n          let times = this.props.getField(\n            content.subject,\n            content.code,\n            content.section,\n            \"time\"\n          );\n\n          let days = this.props.getField(\n            content.subject,\n            content.code,\n            content.section,\n            \"days\"\n          );\n\n          let names = this.props.getField(\n            content.subject,\n            content.code,\n            content.section,\n            \"course\"\n          );\n\n          let time_split = [];\n          if (times.constructor === Array) {\n            for (i = 0; i < times.length; i++) {\n              time_split = times[i].split(\"-\");\n              courses_i.push({\n                days: days[i],\n                time_start: time_split[0].trim(),\n                time_end: time_split[1].trim(),\n                name: names[i]\n              });\n            }\n          }\n        }, this);\n        if (uid === this.props.user.uid) {\n          user_courses = courses_i;\n        }\n        else {\n          courses.push([this.state.schedules[uid][0], courses_i]);\n        }\n      }, this);\n    }\n\n    if (this.state.groupId == null) {\n      return (\n        <div id=\"group-page-container\">\n          <h2>Group not found</h2>\n        </div>\n      );\n    }\n\n    let schedule_rows = [];\n    for (let i = 0; i < courses.length; i += 2) {\n      schedule_rows.push(\n        <tr key={i}>\n          <td>\n            <div>\n              <WeekView title={courses[i][0]} courses={courses[i][1]} noWeekend />\n            </div>\n          </td>\n          <td>\n            {courses[i + 1] ?\n              <div>\n                <WeekView title={courses[i + 1][0]} courses={courses[i + 1][1]} noWeekend />\n              </div>\n              :\n              null}\n          </td>\n        </tr>\n      );\n    }\n\n    return (\n      <div id=\"group-page-container\">\n        <div id=\"group-my-schedule-card\">\n          <Card title=\"My Schedule\">\n            <ScheduleSelector user={this.props.user} group_id={this.state.groupId} />\n            {this.props.user ?\n              <UserScheduleContainer\n                noWeekend\n                data={this.props.data}\n                user={this.props.user}\n                schedule={this.state.schedules[this.props.user.uid]}\n                edit_schedule={false}\n                courses={user_courses}\n                getField={this.props.getField}\n                getTime={(subject, code, section) => {\n                  return this.props.getField(subject, code, section, \"time\").join(\", \");\n                }} />\n              :\n              null}\n          </Card>\n        </div>\n        <table id=\"group-schedules\">\n          <tbody>\n            {schedule_rows}\n          </tbody>\n        </table>\n        {/* courses.map((courses_i, i) => {\n              return (\n                <div key={i}>\n                  <WeekView title={courses_i[0]} courses={courses_i[1]} noWeekend />\n                </div>\n              );\n            }) */}\n      </div>\n    );\n  }\n}\n\nexport default GroupPage;\n","import React from \"react\";\nimport {Link} from \"react-router-dom\"\n\nimport Card from \"./Card.js\";\nimport UserScheduleContainer from \"./UserScheduleContainer\"\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\n\nimport \"../stylesheets/Landing.css\";\n\nclass Landing extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { title: \"\", groups: {}, schedule: null, edit_schedule: false };\n\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        let groups_ref = firebase.firestore().collection(\"groups\");\n\n        let groups_refs = [\n          groups_ref.where(\"roles.\" + user.uid, \"==\", \"owner\"),\n          groups_ref.where(\"roles.\" + user.uid, \"==\", \"viewer\"),\n          groups_ref.where(\"roles.\" + user.uid, \"==\", \"member\")\n        ];\n\n        groups_refs.forEach(groups_i_ref => {\n          groups_i_ref.get().then(snapshot => {\n            snapshot.forEach(doc => {\n              let groups_new = this.state.groups;\n              groups_new[doc.id] = doc.data();\n              this.setState({ groups: groups_new });\n            });\n          });\n        });\n\n        firebase\n          .firestore()\n          .collection(\"schedules\")\n          .doc(user.uid)\n          .onSnapshot(doc => {\n            if (doc.data()) {\n              this.setState({\n                schedule: doc.data().schedule\n              });\n            }\n          });\n      }\n    });\n  }\n\n  createGroup(title) {\n    if (title && title !== \"\" && this.props.user) {\n      let groups_ref = firebase.firestore().collection(\"groups\");\n      groups_ref.doc().set({\n        title: title,\n        roles: { [this.props.user.uid]: \"owner\" },\n        settings: { members_can_view: true }\n      });\n    }\n  }\n\n  onChangeTitle(e) {\n    this.setState({ title: e.target.value });\n  }\n\n  render() {\n    if (!this.props.user) {\n      return (\n        <div>\n          <p>Please log in to create or view schedule groups</p>\n        </div>\n      );\n    }\n\n    let groups = Object.keys(this.state.groups).map((key, i) => {\n      return (\n        <li key={i}>\n          <Link to={\"/group/?groupId=\" + key}>\n            {this.state.groups[key].title}\n          </Link>\n        </li>\n      );\n    });\n\n    let courses = [];\n    if (this.state.schedule) {\n      this.state.schedule.forEach(course => {\n        let i;\n        let content = course.content;\n        let times = this.props.getField(\n          content.subject,\n          content.code,\n          content.section,\n          \"time\"\n        );\n\n        let days = this.props.getField(\n          content.subject,\n          content.code,\n          content.section,\n          \"days\"\n        );\n\n        let names = this.props.getField(\n          content.subject,\n          content.code,\n          content.section,\n          \"course\"\n        );\n\n        let time_split = [];\n        if (times.constructor === Array) {\n          for (i = 0; i < times.length; i++) {\n            time_split = times[i].split(\"-\");\n            courses.push({\n              days: days[i],\n              time_start: time_split[0].trim(),\n              time_end: time_split[1].trim(),\n              name: names[i]\n            });\n          }\n        }\n      }, this);\n    }\n\n    return (\n      <div id=\"landing-container\">\n        <div id=\"create-group-card\">\n          <Card title=\"Create a Group\">\n            <label id=\"name-label\">\n              <p>Name</p>\n              <input\n                type=\"text\"\n                onChange={this.onChangeTitle}\n                placeholder=\"Enter a group name\"\n                value={this.state.title}\n              />\n            </label>\n            <br />\n            <label id=\"checkbox-label\">\n              <p>Members can view all schedules</p>\n              <input\n                type=\"checkbox\"\n                onChange={() => {\n                  return 0;\n                }}\n                value={false}\n              />\n            </label>\n            <button\n              id=\"create-group-button\"\n              className=\"button green large\"\n              onClick={() => {\n                this.createGroup(this.state.title);\n              }}\n            >\n              Create Group\n            </button>\n          </Card>\n        </div>\n        <div id=\"my-groups-card\">\n          <Card title=\"My Groups\">\n            <ul>{groups}</ul>\n          </Card>\n        </div>\n        <div id=\"my-schedules-card\">\n          <Card title=\"My Schedule\">\n            <UserScheduleContainer\n              data={this.props.data}\n              user={this.props.user}\n              schedule={this.state.schedule}\n              edit_schedule={this.state.edit_schedule}\n              courses={courses}\n              getField={this.props.getField}\n              onSubmit={() => {this.setState({edit_schedule: false})}} />\n            <button style={{position: \"absolute\", right: 20, bottom: 20}}\n              className={\"button large \" + (this.state.edit_schedule ? \"gray\" : \"green\")}\n              onClick={() => {this.setState({edit_schedule: !this.state.edit_schedule})}}>\n              {this.state.edit_schedule ? \"Cancel\" : \"Edit schedule\"}\n            </button>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Landing;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport GroupPage from \"./GroupPage.js\";\nimport Landing from \"./Landing.js\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {data: null};\n\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        firebase\n          .firestore()\n          .collection(\"usernames\")\n          .doc(user.uid)\n          .get()\n          .then(doc => {\n            if (doc.data() == null) {\n              firebase\n                .firestore()\n                .collection(\"usernames\")\n                .doc(user.uid)\n                .set({ username: user.displayName });\n            }\n          });\n      }\n    });\n\n    this.getField = this.getField.bind(this);\n  }\n\n  componentDidMount() {\n    const ref = this;\n    import(\"../data/data.json\").then(data => {\n      ref.setState({ data: data[\"default\"] || data });\n    });\n  }\n\n  getField(subject, code, section, field) {\n    if (this.state.data && subject && code && section) {\n      let course = this.state.data[subject][code][section];\n      if (course) {\n        if (course[field].constructor === Array) {\n          return course[field];\n        } else {\n          let out = [];\n          out.push(course[field]);\n          return out;\n        }\n      }\n\n      return \"\";\n    }\n    return \"\";\n  }\n\n  render() {\n    return (\n      <Switch>\n        <Route\n          exact path=\"/\"\n          render={props =>\n            <Landing {...props}\n              user={this.props.user}\n              data={this.state.data} getField={this.getField}\n            />}\n        />\n        <Route\n          path=\"/group\"\n          render={props =>\n            <GroupPage {...props}\n              user={this.props.user}\n              data={this.state.data} getField={this.getField} />}\n        />\n      </Switch>\n    );\n  }\n}\n\nexport default Main;\n","import React from \"react\";\n\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = { user: null };\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(user => {\n      user ? this.setState({ user: user }) : this.setState({ user: null });\n    });\n  }\n\n  render() {\n    return (\n      <div id=\"app\">\n        <Header\n          user={this.state.user}\n          login={user => {\n            this.setState({ user: user });\n          }}\n          logout={() => {\n            this.setState({ user: null });\n          }}\n        />\n        <Main user={this.state.user} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker.js';\nimport App from './components/App.js'\n\nimport './stylesheets/index.css'\n\nReactDOM.render((\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <App />\n  </BrowserRouter>\n  ), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}