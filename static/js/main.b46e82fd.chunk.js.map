{"version":3,"sources":["serviceWorker.js","firebase.js","components/Header.js","components/WeekView.js","components/Card.js","components/CourseSelector.js","components/CourseContainer.js","components/UserScheduleContainer.js","components/GroupPage.js","components/Landing.js","components/Main.js","components/App.js","index.js"],"names":["Boolean","window","location","hostname","match","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firestore","settings","timestampsInSnapshots","provider","auth","GoogleAuthProvider","Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","login","bind","assertThisInitialized","logout","_this2","signOut","then","_this3","setCustomParameters","prompt","signInWithPopup","result","user","react_default","a","createElement","id","Link","to","alt","src","displayName","email","className","onClick","React","Component","WeekView","weekend","courses","some","course","days","includes","noWeekend","weekdays","days_header","map","day","index","key","substr","splice","hour_min","hour_max","forEach","start_hour","Date","time_start","toUpperCase","trim","getHours","end_hour","time_end","overrides","endHour","startHour","row_groups","i","row_group","j","row","push","rowSpan","k","length","row_groups_default","state","addBlock","addBlockAtTime","indexOf","charAt","name","times","nextProps","setState","day_index","group_index","row_index","row_span","inner_html","day_fixed","style","backgroundColor","height","Math","floor","start_date","start_obj","hour","quarter","round","getMinutes","end_date","end_obj","width","_","title","colSpan","Card","editButton","lineHeight","children","CourseSelector","changeSubject","changeCode","changeSection","selected","updateEntry","subject","code","section","code_select","focus","section_select","_this4","focusNextEntry","subject_select","_this5","_this$props","code_options","getCodes","section_options","getSections","react_select_esm","tabIndex","value","onChange","options","subject_options","placeholder","openMenuOnFocus","tabSelectsValue","classNamePrefix","filterOption","createFilter","matchFrom","ref","el","isDisabled","components","Option","data","time","split","isOptionDisabled","option","already_entered","verticalAlign","cursor","removeEntry","CourseContainer","opt","keys","reduce","obj","x","label","initial_entries","initial","content","entries","selector_refs","loading","getActivities","addEntry","addFilledEntry","onSubmit","shouldFindActivities","renderActivityButtons","raw","entry","type","getTime","changed_info","callback","assign","filter","section_key","_ismounted","entries_to_submit","console","log","schedule_list","collection","doc","uid","set","schedule","catch","err","groups_ref","where","groups_i_ref","get","snapshot","exists","to_focus","focusSubject","datapoint","_this6","activities","activity","_this7","selectors","components_CourseSelector","display","UserScheduleContainer","edit_schedule","components_CourseContainer","getField","join","components_WeekView","GroupPage","groupId","group","schedules","role","onAuthStateChanged","queryString","parse","search","roles","update","members_can_view","username","My Schedule","user_courses","courses_i","names","time_split","constructor","Array","schedule_rows","components_Card","float","components_UserScheduleContainer","Landing","groups","onChangeTitle","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","groups_new","onSnapshot","stop","_x","apply","arguments","defineProperty","e","target","createGroup","Main","__webpack_require__","t","field","out","Switch","Route","exact","path","render","components_Landing","components_GroupPage","App","localStorage","setItem","components_Header","components_Main","ReactDOM","BrowserRouter","basename","process","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b46e82fd.chunk.js","sourcesContent":["// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\nvar config = {\n\n  apiKey: \"AIzaSyAtkDMcmqJXjxNRvx84gYKQqssbarfkaOs\",\n  authDomain: \"bing-schedules.firebaseapp.com\",\n  databaseURL: \"https://bing-schedules.firebaseio.com\",\n  projectId: \"bing-schedules\",\n  storageBucket: \"bing-schedules.appspot.com\",\n  messagingSenderId: \"249912717870\"\n};\nfirebase.initializeApp(config);\n\nconst firestore = firebase.firestore();\nconst settings = {timestampsInSnapshots: true};\nfirestore.settings(settings);\n\nexport default firebase;\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\n\nimport \"../stylesheets/Header.css\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  logout() {\n    auth.signOut().then(() => {\n      this.props.logout();\n    });\n  }\n\n  login() {\n    provider.setCustomParameters({\n      prompt: \"select_account\"\n    });\n\n    auth.signInWithPopup(provider).then(result => {\n      const user = result.user;\n      this.props.login(user);\n    });\n  }\n\n  render() {\n    return (\n      <header id=\"top-header\">\n        <Link to=\"/\">\n          <img alt=\"logo\" src={process.env.PUBLIC_URL + \"/assets/logo.png\"} />\n          <h1>Binghamton Schedule Manager</h1>\n        </Link>\n        <div id=\"top-header-auth-button\">\n          <p>\n            {this.props.user\n              ? this.props.user.displayName || this.props.user.email\n              : \"\"}\n          </p>\n          {this.props.user ? (\n            <button className=\"button gray\" onClick={this.logout}>\n              Log Out\n            </button>\n          ) : (\n            <button className=\"button gray\" onClick={this.login}>\n              Log In\n            </button>\n          )}\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React from \"react\";\n\nimport \"../stylesheets/WeekView.css\";\n\nclass WeekView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    let weekend = false;\n    this.props.courses.some(course => {\n      if (course.days.includes(\"S\") || course.days.includes(\"U\")) {\n        weekend = true;\n        return false;\n      }\n      return true;\n    });\n\n    if (this.props.noWeekend && !weekend) {\n      this.weekdays = [\n        \"Monday\",\n        \"Tuesday\",\n        \"Wednesday\",\n        \"Thursday\",\n        \"Friday\"\n      ]\n    }\n    else {\n      this.weekdays = [\n        \"Monday\",\n        \"Tuesday\",\n        \"Wednesday\",\n        \"Thursday\",\n        \"Friday\",\n        \"Saturday\",\n        \"Sunday\"\n      ];\n    }\n    this.days_header = this.weekdays.map((day, index) => {\n      return (\n        <th key={index + 1} className=\"weekview-cell-label\">\n          <span>{day.substr(0, 3)}</span>\n        </th>\n      );\n    });\n    this.days_header.splice(\n      0,\n      0,\n      <th key={0} className=\"weekview-cell-label\" />\n    );\n\n    // TODO: Handle the case where the last end time is an exact hour\n    // i.e. Should an empty hour be shown?\n    this.hour_min = null;\n    this.hour_max = null;\n    this.props.courses.forEach(course => {\n      let start_hour = new Date(\n        \"1/1/1970 \" + course.time_start.toUpperCase().trim()\n      ).getHours();\n      if (start_hour < this.hour_min || this.hour_min == null)\n        this.hour_min = start_hour;\n\n      let end_hour = new Date(\n        \"1/1/1970 \" + course.time_end.toUpperCase().trim()\n      ).getHours();\n      if (end_hour > this.hour_max || this.hour_max == null)\n        this.hour_max = end_hour;\n    });\n\n    let overrides = 0;\n    if (this.props.endHour && this.props.endHour > this.hour_max) {\n      this.hour_max = this.props.endHour;\n      overrides += 1;\n    }\n\n    if (this.props.startHour && this.props.startHour < this.hour_min) {\n      this.hour_min = this.props.startHour;\n      overrides += 1;\n    }\n\n    // console.log(this.hour_max - this.hour_min, this.props.optimalSize, this.hour_max - this.hour_min + 1 - this.props.optimalSize);\n    if (overrides > 0) this.hour_min += (this.hour_max - this.hour_min) - (this.props.endHour - this.props.startHour);\n\n    // TODO: IMPORTANT -- Fix times that pass midnight into another day\n    let row_groups = [];\n    for (let i = this.hour_min; i <= this.hour_max; i++) {\n      let row_group = [];\n      for (let j = 0; j < 4; j++) {\n        let row = [];\n        if (j === 0) {\n          row.push(\n            <td key={0} rowSpan={4} className=\"weekview-cell-label\">\n              {((i + 11) % 12) + 1 + (i >= 12 ? \"PM\" : \"AM\")}\n            </td>\n          );\n        }\n\n        for (let k = 0; k < this.weekdays.length; k++) {\n          row.push(<td key={this.weekdays[k]} className=\"weekview-cell-empty\" />);\n        }\n        row_group.push(row);\n      }\n      row_groups.push(row_group);\n    }\n    this.row_groups_default = row_groups;\n\n    this.state = { row_groups: row_groups };\n\n    this.addBlock = this.addBlock.bind(this);\n    this.addBlockAtTime = this.addBlockAtTime.bind(this);\n  }\n\n  componentDidMount() {\n    if (!this.props.courses) return;\n    const day_codes = \"MTWRFSU\";\n    this.props.courses.forEach(course => {\n      for (let i = 0; i < course.days.length; i++) {\n        this.addBlockAtTime(\n          day_codes.indexOf(course.days.charAt(i)),\n          course.time_start,\n          course.time_end,\n          <span key={i}><b>{course.name}</b><br />{course.course}<br />{course.times}</span>\n        );\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ row_groups: this.row_groups_default });\n    const day_codes = \"MTWRFSU\";\n    nextProps.courses.forEach(course => {\n      for (let i = 0; i < course.days.length; i++) {\n        this.addBlockAtTime(\n          day_codes.indexOf(course.days.charAt(i)),\n          course.time_start,\n          course.time_end,\n          <span key={i}><b>{course.name}</b><br />{course.course}<br />{course.times}</span>\n        );\n      }\n    });\n  }\n\n  // Adds a cell of rowSpan row_span at:\n  // (day_index)th day column of the (row_index)th row in the (group_index)th row group\n  // containing the inner html provided by inner_html\n  // addBlockAtTime wraps this for ease of use\n  addBlock(day_index, group_index, row_index, row_span, inner_html) {\n    let day_fixed = row_index === 0 ? day_index + 1 : day_index;\n    let row_groups = this.state.row_groups;\n    if (!row_groups[group_index]\n      || !row_groups[group_index][row_index]\n      || !row_groups[group_index][row_index][day_fixed]) {\n      return;\n    }\n    let key = row_groups[group_index][row_index][day_fixed].key;\n    row_groups[group_index][row_index][day_fixed] = (\n      <td rowSpan={row_span} style={{ backgroundColor: \"#ccc\", height: \"100%\" }} key={key}>\n        <span><div>{inner_html}</div></span>\n      </td>\n    );\n\n    for (let i = 1; i < row_span; i++) {\n      let row =\n        row_groups[group_index + Math.floor((row_index + i) / 4)][\n        (row_index + i) % 4\n          ];\n      row[day_index + ((row_index + i) % 4 === 0 ? 1 : 0)] = null;\n    }\n\n    this.setState({ row_groups: row_groups });\n  }\n\n  // Adds a cell:\n  // (day_index)th day column, spanning from time_start to time_end, rounded to the nearest 15 minutes\n  // containing the inner html provided by inner_html\n  // Times are in the form H:MM {AM | PM} (space required before suffix)\n  // TODO: Don't require space before suffix\n  addBlockAtTime(day_index, time_start, time_end, inner_html) {\n    let start_date = new Date(\"1/1/1970 \" + time_start.toUpperCase().trim());\n    let start_obj = {\n      hour: start_date.getHours(),\n      quarter: Math.round(start_date.getMinutes() / 15)\n    };\n\n    let end_date = new Date(\"1/1/1970 \" + time_end.toUpperCase().trim());\n    let end_obj = {\n      hour: end_date.getHours(),\n      quarter: Math.round(end_date.getMinutes() / 15)\n    };\n\n    let group_index = start_obj.hour - this.hour_min;\n    if (group_index < 0) group_index = 24 + group_index;\n    let row_index = start_obj.quarter;\n    let row_span = 0;\n\n    // Add 4 rows for every whole hour greater\n    if (end_obj.hour > start_obj.hour) {\n      row_span += 4 * (end_obj.hour - start_obj.hour - 1);\n    }\n    row_span += 4 - start_obj.quarter + end_obj.quarter;\n\n    this.addBlock(day_index, group_index, row_index, row_span, inner_html);\n  }\n\n  render() {\n    let row_groups = this.state.row_groups;\n\n    return (\n      <table className=\"weekview-table\">\n        <colgroup>\n          <col style={{ width: \"50px\" }} />\n          {this.weekdays.map((_, index) => { return <col key={index} style={{ width: \"100px\" }} /> })}\n        </colgroup>\n\n        <thead>\n          {this.props.title ?\n            <tr className=\"weekview-title\">\n              <td colSpan={this.weekdays.length + 1}>{this.props.title}</td>\n            </tr>\n            :\n            null\n          }\n          <tr>{this.days_header}</tr>\n        </thead>\n        <tbody>\n          {row_groups.map((row_group) => {\n            return row_group.map((row, row_index) => {\n              return <tr key={\"row\" + row_index}>{row}</tr>;\n            });\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default WeekView;\n","import React from \"react\";\n\nimport \"../stylesheets/Card.css\";\n\nclass Card extends React.Component {\n  render() {\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <span style={this.props.editButton ? {lineHeight: \"30px\"} : null}>{this.props.title}</span>\n          {this.props.editButton}\n        </div>\n        <div className=\"card-content\">{this.props.children}</div>\n      </div>\n    );\n  }\n}\n\nexport default Card;\n","import React from \"react\";\n\nimport Select, { createFilter, components } from \"react-select\";\n\nclass CourseSelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeSubject = this.changeSubject.bind(this);\n    this.changeCode = this.changeCode.bind(this);\n    this.changeSection = this.changeSection.bind(this);\n  }\n\n  changeSubject(selected) {\n    this.props.updateEntry(\n      this.props.index,\n      { subject: selected, code: null, section: null },\n      () => this.code_select.focus()\n    );\n  }\n\n  changeCode(selected) {\n    this.props.updateEntry(\n      this.props.index,\n      { code: selected, section: null },\n      () => this.section_select.focus()\n    );\n  }\n\n  changeSection(selected) {\n    this.props.updateEntry(\n      this.props.index,\n      { section: selected.length === 0 ? null : selected },\n      () => (selected.length === 0 ? null : this.props.focusNextEntry())\n    );\n  }\n\n  focusSubject() {\n    this.subject_select.focus();\n  }\n\n  render() {\n    const { subject, code, section } = this.props;\n\n    let code_options = this.props.getCodes(subject);\n    let section_options = this.props.getSections(subject, code);\n\n    return (\n      <div>\n        <Select\n          tabIndex={0}\n          value={subject}\n          onChange={this.changeSubject}\n          options={this.props.subject_options}\n          placeholder=\"Select Subject\"\n          openMenuOnFocus={true}\n          tabSelectsValue={false}\n          className=\"course-select\"\n          classNamePrefix=\"react-select\"\n          filterOption={createFilter({ matchFrom: \"start\" })}\n          ref={el => {\n            this.subject_select = el;\n          }}\n        />\n        <Select\n          tabIndex={0}\n          value={code}\n          onChange={this.changeCode}\n          options={code_options}\n          placeholder=\"Select Course\"\n          openMenuOnFocus={true}\n          tabSelectsValue={false}\n          isDisabled={code_options.length === 0}\n          className=\"course-select\"\n          classNamePrefix=\"react-select\"\n          filterOption={createFilter({ matchFrom: \"start\" })}\n          ref={el => {\n            this.code_select = el;\n          }}\n        />\n        <Select\n          tabIndex={0}\n          value={section}\n          onChange={this.changeSection}\n          options={section_options}\n          placeholder=\"Select Section\"\n          openMenuOnFocus={true}\n          tabSelectsValue={false}\n          isDisabled={section_options.length === 0}\n          className=\"course-select\"\n          classNamePrefix=\"react-select\"\n          filterOption={createFilter({ matchFrom: \"start\" })}\n          components={{\n            Option: props => {\n              return (\n                <div>\n                  <components.Option {...props}>\n                    {props.children}\n                    <span\n                      className={\n                        props.data.time.indexOf(\", \") > -1 ? \"multiple\" : \"\"\n                      }\n                    >\n                      {props.data.time.split(\", \").map((time, index) => {\n                        return [time, <br key={index} />];\n                      })}\n                    </span>\n                  </components.Option>\n                </div>\n              );\n            }\n          }}\n          isOptionDisabled={option => option.already_entered}\n          ref={el => {\n            this.section_select = el;\n          }}\n        />\n        <img\n          src={process.env.PUBLIC_URL + \"/assets/cross.png\"}\n          alt=\"Delete entry\"\n          style={{ verticalAlign: \"middle\", cursor: \"pointer\" }}\n          width=\"16\"\n          height=\"16\"\n          onClick={() => {\n            this.props.removeEntry(this.props.index);\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default CourseSelector;\n","import React from \"react\";\n\nimport CourseSelector from \"./CourseSelector.js\";\n\nimport \"../stylesheets/CourseContainer.css\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass CourseContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const opt = (props.data)\n      ? Object.keys(props.data).reduce((obj, x) => {\n        obj.push({ value: x, label: x });\n        return obj;\n      }, [])\n      : [];\n\n    let initial_entries = [\n      { subject: null, code: null, section: null },\n      { subject: null, code: null, section: null }\n    ];\n\n    if (props.initial) {\n      initial_entries = props.initial.reduce((obj, x) => {\n        obj.push({subject: {value: x.content.subject, label: x.content.subject},\n                  code: {value: x.content.code, label: x.content.code},\n                  section: {value: x.content.section, label: x.content.section}});\n        return obj;\n      }, []);\n    }\n\n    this.state = {\n      subject_options: opt,\n      entries: initial_entries,\n      selector_refs: [],\n      loading: false\n    };\n\n    this.getCodes = this.getCodes.bind(this);\n    this.getSections = this.getSections.bind(this);\n    this.updateEntry = this.updateEntry.bind(this);\n    this.getActivities = this.getActivities.bind(this);\n    this.addEntry = this.addEntry.bind(this);\n    this.addFilledEntry = this.addFilledEntry.bind(this);\n    this.removeEntry = this.removeEntry.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.focusNextEntry = this.focusNextEntry.bind(this);\n    this.shouldFindActivities = this.shouldFindActivities.bind(this);\n    this.renderActivityButtons = this.renderActivityButtons.bind(this);\n  }\n\n  getCodes(subject) {\n    if (subject && subject.value) {\n      return Object.keys(this.props.data[subject.value]).reduce((obj, x) => {\n        obj.push({ value: x, label: x });\n        return obj;\n      }, []);\n    }\n\n    return [];\n  }\n\n  getSections(subject, code) {\n    if (subject && code && subject.value && code.value) {\n      let raw = Object.keys(this.props.data[subject.value][code.value]).reduce(\n        (obj, x) => {\n          let already_entered = false;\n          for (let entry in this.state.entries) {\n            if (\n              this.state.entries[entry].subject &&\n              this.state.entries[entry].code &&\n              this.state.entries[entry].section &&\n              this.state.entries[entry].subject.value === subject.value &&\n              this.state.entries[entry].code.value === code.value &&\n              this.state.entries[entry].section.value === x\n            ) {\n              already_entered = true;\n              break;\n            }\n          }\n\n          let type = this.props.data[subject.value][code.value][x].type[0];\n          if (!obj[type]) obj[type] = [];\n          obj[type].push({\n            value: x,\n            label: x,\n            time: this.props.getTime(subject.value, code.value, x),\n            already_entered: already_entered\n          });\n          return obj;\n        },\n        {}\n      );\n\n      return Object.entries(raw).reduce((obj, x) => {\n        obj.push({ label: x[0], options: x[1] });\n        return obj;\n      }, []);\n    }\n\n    return [];\n  }\n\n  updateEntry(index, changed_info, callback) {\n    let entries = this.state.entries;\n    if (entries[index] === null || changed_info === null) return;\n    entries[index] = Object.assign(entries[index], changed_info);\n    this.setState({ entries: entries }, callback);\n  }\n\n  getActivities(subject, code, section) {\n    if (\n      subject &&\n      code &&\n      section &&\n      subject.value &&\n      code.value &&\n      section.value\n    ) {\n      return Object.keys(this.props.data[subject.value][code.value]).filter(\n        section_key => {\n          let section = this.props.data[subject.value][code.value][section_key];\n          return (\n            section.type[0] === \"Activity\" || section.type[0] === \"Discussion\"\n          );\n        }\n      );\n    }\n\n    return [];\n  }\n\n  addEntry() {\n    let entries = this.state.entries;\n    entries.push({ subject: null, code: null, section: null });\n    this.setState({ entries: entries });\n  }\n\n  addFilledEntry(subject, code, section, index) {\n    let entries = this.state.entries;\n    entries.splice(index, 0, {\n      subject: subject,\n      code: code,\n      section: section\n    });\n    this.setState({ entries: entries });\n  }\n\n  removeEntry(index) {\n    let entries = this.state.entries;\n    entries.splice(index, 1);\n    this.setState({ entries: entries }, () => {\n      if (this.state.entries.length === 0) this.addEntry();\n    });\n  }\n\n  componentDidMount() {\n    this._ismounted = true;\n  }\n\n  componentWillUnmount() {\n    this._ismounted = false;\n  }\n\n  onSubmit() {\n    let entries_to_submit = [];\n    for (let i = 0; i < this.state.entries.length; i++) {\n      if (\n        this.state.entries[i].subject == null &&\n        this.state.entries[i].code == null &&\n        this.state.entries[i].section == null\n      ) {\n        // TODO: In this case, just skip it\n        console.log(\"All null\");\n        continue;\n      }\n\n      if (\n        this.state.entries[i].subject == null ||\n        this.state.entries[i].code == null ||\n        this.state.entries[i].section == null\n      ) {\n        // TODO: Improve and actually display this message\n        console.log(\"Please enter all fields or remove the row to continue\");\n        continue;\n      }\n\n      entries_to_submit.push(this.state.entries[i]);\n    }\n\n    if (entries_to_submit.length === 0) {\n      // TODO: Just disable submit in this case\n      console.log(\"Please enter a course\");\n      return;\n    }\n\n    var schedule_list = entries_to_submit.map(entry => {\n      return {\n        type: \"course\",\n        content: {\n          subject: entry.subject.value,\n          code: entry.code.value,\n          section: entry.section.value\n        }\n      };\n    });\n\n    this.setState({loading: true});\n    firebase\n      .firestore()\n      .collection(\"schedules\")\n      .doc(this.props.user.uid)\n      .set({ schedule: schedule_list })\n      .then(() => {\n        this.props.onSubmit();\n        if (this._ismounted) {\n          this.setState({loading: false});\n        }\n      })\n      .catch(err => {\n        console.log(\"Error getting document --\", err);\n        this.setState({loading: false});\n      });\n\n\n    let groups_ref = firebase.firestore().collection(\"groups\");\n\n    let groups_refs = [\n      groups_ref.where(\"roles.\" + this.props.user.uid, \"==\", \"owner\"),\n      groups_ref.where(\"roles.\" + this.props.user.uid, \"==\", \"viewer\"),\n      groups_ref.where(\"roles.\" + this.props.user.uid, \"==\", \"member\")\n    ];\n\n    groups_refs.forEach(groups_i_ref => {\n      groups_i_ref.get().then(snapshot => {\n        snapshot.forEach(doc => {\n          doc.ref.collection(\"schedules\").doc(this.props.user.uid).get().then((schedule) => {\n            if (schedule.exists) {\n              doc.ref.collection(\"schedules\").doc(this.props.user.uid).set({schedule: schedule_list});\n            }\n          });\n        }, this);\n      });\n    }, this);\n  }\n\n  focusNextEntry(index) {\n    if (this.selector_refs.length <= index + 1) {\n      this.addEntry();\n      this.to_focus = index + 1;\n    } else {\n      this.selector_refs[index + 1].focusSubject();\n    }\n  }\n\n  shouldFindActivities(index) {\n    for (let i = 0; i < this.state.entries.length; i++) {\n      if (\n        !this.state.entries[i].subject ||\n        !this.state.entries[i].code ||\n        !this.state.entries[index].subject ||\n        !this.state.entries[index].code\n      )\n        continue;\n\n      let entry = this.state.entries[index];\n      if (entry.subject && entry.code && entry.section) {\n        let datapoint = this.props.data[entry.subject.value][entry.code.value][\n          entry.section.value\n          ];\n        if (\n          datapoint.type[0] === \"Discussion\" ||\n          datapoint.type[0] === \"Activity\"\n        ) {\n          return false;\n        }\n      }\n\n      if (i === index) continue;\n\n      if (\n        this.state.entries[i].subject.value === entry.subject.value &&\n        this.state.entries[i].code.value === entry.code.value\n      ) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  renderActivityButtons(index) {\n    if (!this.shouldFindActivities(index)) return;\n    let entry = this.state.entries[index];\n    if (!entry) return;\n\n    let activities = this.getActivities(\n      entry.subject,\n      entry.code,\n      entry.section\n    ).reduce((obj, activity, i) => {\n      obj.push(\n        <button\n          key={i}\n          className=\"button gray\"\n          onClick={() => {\n            this.addFilledEntry(\n              entry.subject,\n              entry.code,\n              {value: activity, label: activity},\n              index + 1\n            );\n            this.to_focus = index + 2;\n          }}>\n          {activity}\n          {\" | \"}\n          {this.props.getTime(entry.subject.value, entry.code.value, activity)}\n        </button>\n      );\n      return obj;\n    }, []);\n\n    if (activities.length > 0) {\n      return <div>Add activities: {activities}</div>;\n    }\n  }\n\n  render() {\n    this.selector_refs = [];\n    let selectors = this.state.entries.map((entry, index) => {\n      return (\n        <div key={index}>\n          <CourseSelector\n            index={index}\n            subject={entry.subject}\n            code={entry.code}\n            section={entry.section}\n            subject_options={this.state.subject_options}\n            getCodes={this.getCodes}\n            getSections={this.getSections}\n            updateEntry={this.updateEntry}\n            removeEntry={this.removeEntry}\n            focusNextEntry={() => {\n              this.focusNextEntry(index);\n            }}\n            ref={el => {\n              this.selector_refs[index] = el;\n              if (this.to_focus === index) {\n                el.focusSubject();\n                this.to_focus = null;\n              }\n            }}\n          />\n          {this.renderActivityButtons(index)}\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"course-container\">\n        {selectors}\n        <div id=\"course-container-buttons\">\n          <button className=\"button gray large\" onClick={this.addEntry}>\n            Add another course\n          </button>\n          <button className=\"button gray large\" onClick={this.onSubmit}>\n            Submit\n          </button>\n          <img src={process.env.PUBLIC_URL + \"/assets/loading.gif\"}\n            style={{display: this.state.loading ? \"inline\" : \"none\"}}\n            alt=\"Loading...\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CourseContainer;\n","import React from \"react\";\nimport CourseContainer from \"./CourseContainer\";\nimport WeekView from \"./WeekView\";\n\nclass UserScheduleContainer extends React.Component {\n  render() {\n    return (\n      <div>\n        {(this.props.edit_schedule || !this.props.schedule) ?\n          <CourseContainer\n            data={this.props.data}\n            user={this.props.user}\n            initial={this.props.schedule}\n            getTime={(subject, code, section) => {\n              return this.props.getField(subject, code, section, \"time\").join(\", \");\n            }}\n            onSubmit={this.props.onSubmit} />\n          :\n          <WeekView noWeekend={this.props.noWeekend}\n            courses={this.props.courses} startHour={9} endHour={18} />\n        }\n      </div>\n    );\n  }\n}\n\nexport default UserScheduleContainer;","import React from \"react\";\nimport queryString from \"query-string\";\n\nimport WeekView from \"./WeekView.js\";\nimport Card from \"./Card.js\"\n\nimport \"../stylesheets/GroupPage.css\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport UserScheduleContainer from \"./UserScheduleContainer\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass GroupPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      groupId: \"\",\n      user: null,\n      group: {},\n      schedules: [],\n      role: null,\n      exists: true,\n      edit_schedule: false\n    };\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        console.log(user);\n\n        const values = queryString.parse(this.props.location.search);\n        let groupId = values.groupId;\n        if (!groupId) return;\n        this.setState({ groupId: groupId });\n\n        firebase\n          .firestore()\n          .collection(\"groups\")\n          .doc(groupId)\n          .get()\n          .then(group => {\n            this.setState({exists: group.exists});\n            if (!group.exists) return;\n            let roles = group.data().roles;\n            if (roles[user.uid] == null) {\n              roles[user.uid] = \"member\";\n              firebase\n                .firestore()\n                .collection(\"groups\")\n                .doc(groupId)\n                .update({ roles: roles });\n            }\n            this.setState({ role: roles[this.props.user.uid] });\n\n            if (roles[user.uid] === \"member\" && !group.data().settings.members_can_view) {\n              firebase\n                .firestore()\n                .collection(\"groups\")\n                .doc(groupId)\n                .collection(\"schedules\")\n                .doc(user.uid)\n                .get()\n                .then(doc => {\n                  this.setState({\n                    schedules: {\n                      \"My Schedule\": doc.data().schedule\n                    }\n                  });\n                })\n                .catch(err => {\n                  console.log(\"Error getting document --\", err);\n                });\n            } else {\n              firebase\n                .firestore()\n                .collection(\"groups\")\n                .doc(groupId)\n                .collection(\"schedules\")\n                .get()\n                .then(snapshot => {\n                  let schedules = [];\n                  snapshot.forEach(schedule => {\n                    firebase\n                      .firestore()\n                      .collection(\"usernames\")\n                      .doc(schedule.id)\n                      .get()\n                      .then(name => {\n                        schedules[schedule.id] = [name.data().username, schedule.data().schedule];\n                        this.setState({schedules: schedules});\n                      });\n                  });\n                })\n                .catch(err => {\n                  console.log(\"Error getting document --\", err);\n                });\n            }\n          })\n          .catch(err => {\n            console.log(\"Error getting document --\", err);\n          });\n      } else {\n        this.setState({\n          groupId: \"\",\n          user: null,\n          group: {},\n          schedules: [],\n          role: null\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.groupId == null || !this.state.exists) {\n      return (\n        <div id=\"group-page-container\">\n          <h2>Group not found</h2>\n        </div>\n      );\n    }\n\n    if (!this.props.user) {\n      return (\n        <div id=\"group-page-container\">\n          <h2>Please login to view this group</h2>\n        </div>\n      );\n    }\n\n    let courses = [];\n    let user_courses = null;\n    if (this.state.schedules) {\n      Object.keys(this.state.schedules).forEach((uid) => {\n        let courses_i = [];\n        this.state.schedules[uid][1].forEach(course => {\n          let i;\n          let content = course.content;\n          let times = this.props.getField(\n            content.subject,\n            content.code,\n            content.section,\n            \"time\"\n          );\n\n          let days = this.props.getField(\n            content.subject,\n            content.code,\n            content.section,\n            \"days\"\n          );\n\n          let names = this.props.getField(\n            content.subject,\n            content.code,\n            content.section,\n            \"course\"\n          );\n\n          let time_split = [];\n          if (times.constructor === Array) {\n            for (i = 0; i < times.length; i++) {\n              time_split = times[i].split(\"-\");\n              courses_i.push({\n                days: days[i],\n                time_start: time_split[0].trim(),\n                time_end: time_split[1].trim(),\n                name: names[i],\n                times: times[i],\n                course: content.subject + \" \" + content.code + \"-\" + content.section\n              });\n            }\n          }\n        }, this);\n        if (uid === this.props.user.uid) {\n          user_courses = courses_i;\n        }\n        else {\n          courses.push([this.state.schedules[uid][0], courses_i]);\n        }\n      }, this);\n    }\n\n    let schedule_rows = [];\n    for (let i = 0; i < courses.length; i += 2) {\n      schedule_rows.push(\n        <tr key={i}>\n          <td>\n            <div>\n              <WeekView title={courses[i][0]} courses={courses[i][1]} noWeekend />\n            </div>\n          </td>\n          <td>\n            {courses[i + 1] ?\n              <div>\n                <WeekView title={courses[i + 1][0]} courses={courses[i + 1][1]} noWeekend />\n              </div>\n              :\n              null}\n          </td>\n        </tr>\n      );\n    }\n\n    return (\n      <div id=\"group-page-container\">\n        <div id=\"group-my-schedule-card\">\n          <Card title=\"My Schedule\"\n            editButton={<button style={{float: \"right\"}} className=\"button gray\"\n              onClick={() => {this.setState({edit_schedule: !this.state.edit_schedule})}}>\n              {this.state.edit_schedule ? \"Cancel\" : \"Edit schedule\"}</button>}>\n            {this.props.user && this.state.schedules[this.props.user.uid] ?\n              <span>\n              <UserScheduleContainer\n                noWeekend\n                data={this.props.data}\n                user={this.props.user}\n                schedule={this.state.schedules[this.props.user.uid][1]}\n                edit_schedule={this.state.edit_schedule}\n                courses={user_courses}\n                onSubmit={() => {this.setState({edit_schedule: false})}}\n                getField={this.props.getField}\n                getTime={(subject, code, section) => {\n                  return this.props.getField(subject, code, section, \"time\").join(\", \");\n                }} />\n              </span>\n              :\n              null}\n          </Card>\n        </div>\n        <div id=\"group-schedules\">\n            {courses.map((courses_i, i) => {\n              return (\n                <Card key={i} title={courses_i[0]}>\n                  <WeekView courses={courses_i[1]} noWeekend />\n                </Card>\n              );\n            })}\n        </div>\n        {/* <table id=\"group-schedules\">\n          <tbody>\n            {schedule_rows}\n          </tbody>\n        </table> */}\n        {/* courses.map((courses_i, i) => {\n              return (\n                <div key={i}>\n                  <WeekView title={courses_i[0]} courses={courses_i[1]} noWeekend />\n                </div>\n              );\n            }) */}\n      </div>\n    );\n  }\n}\n\nexport default GroupPage;\n","import React from \"react\";\nimport {Link} from \"react-router-dom\"\n\nimport Card from \"./Card.js\";\nimport UserScheduleContainer from \"./UserScheduleContainer\"\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\n\nimport \"../stylesheets/Landing.css\";\n\nclass Landing extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { title: \"\", groups: {}, schedule: null, edit_schedule: false };\n\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(async user => {\n      if (user) {\n        let groups_ref = firebase.firestore().collection(\"groups\");\n\n        let groups_refs = [\n          groups_ref.where(\"roles.\" + user.uid, \"==\", \"owner\"),\n          groups_ref.where(\"roles.\" + user.uid, \"==\", \"viewer\"),\n          groups_ref.where(\"roles.\" + user.uid, \"==\", \"member\")\n        ];\n\n        groups_refs.forEach(groups_i_ref => {\n          groups_i_ref.get().then(snapshot => {\n            snapshot.forEach(doc => {\n              let groups_new = this.state.groups;\n              groups_new[doc.id] = doc.data();\n              this.setState({ groups: groups_new });\n            });\n          });\n        });\n\n        firebase\n          .firestore()\n          .collection(\"schedules\")\n          .doc(user.uid)\n          .onSnapshot(doc => {\n            if (doc.data()) {\n              this.setState({\n                schedule: doc.data().schedule\n              });\n            }\n          });\n      }\n    });\n  }\n\n  createGroup(title) {\n    if (title && title !== \"\" && this.props.user) {\n      let groups_ref = firebase.firestore().collection(\"groups\");\n      groups_ref.doc().set({\n        title: title,\n        roles: { [this.props.user.uid]: \"owner\" },\n        settings: { members_can_view: true }\n      });\n    }\n  }\n\n  onChangeTitle(e) {\n    this.setState({ title: e.target.value });\n  }\n\n  render() {\n    if (!this.props.user) {\n      return (\n        <div>\n          <p>Please log in to create or view schedule groups</p>\n        </div>\n      );\n    }\n\n    let groups = Object.keys(this.state.groups).map((key, i) => {\n      return (\n        <li key={i}>\n          <Link to={\"/group/?groupId=\" + key}>\n            {this.state.groups[key].title}\n          </Link>\n        </li>\n      );\n    });\n\n    let courses = [];\n    if (this.state.schedule) {\n      this.state.schedule.forEach(course => {\n        let i;\n        let content = course.content;\n        let times = this.props.getField(\n          content.subject,\n          content.code,\n          content.section,\n          \"time\"\n        );\n\n        let days = this.props.getField(\n          content.subject,\n          content.code,\n          content.section,\n          \"days\"\n        );\n\n        let names = this.props.getField(\n          content.subject,\n          content.code,\n          content.section,\n          \"course\"\n        );\n\n        let time_split = [];\n        if (times.constructor === Array) {\n          for (i = 0; i < times.length; i++) {\n            time_split = times[i].split(\"-\");\n            courses.push({\n              days: days[i],\n              time_start: time_split[0].trim(),\n              time_end: time_split[1].trim(),\n              name: names[i],\n              times: times[i],\n              course: content.subject + \" \" + content.code + \"-\" + content.section\n            });\n          }\n        }\n      }, this);\n    }\n\n    return (\n      <div id=\"landing-container\">\n        <div id=\"create-group-card\">\n          <Card title=\"Create a Group\">\n            <label id=\"name-label\">\n              <p>Name</p>\n              <input\n                type=\"text\"\n                onChange={this.onChangeTitle}\n                placeholder=\"Enter a group name\"\n                value={this.state.title}\n              />\n            </label>\n            <br />\n            <label id=\"checkbox-label\">\n              <p>Members can view all schedules</p>\n              <input\n                type=\"checkbox\"\n                onChange={() => {\n                  return 0;\n                }}\n                value={false}\n              />\n            </label>\n            <button\n              id=\"create-group-button\"\n              className=\"button green large\"\n              onClick={() => {\n                this.createGroup(this.state.title);\n              }}\n            >\n              Create Group\n            </button>\n          </Card>\n        </div>\n        <div id=\"my-groups-card\">\n          <Card title=\"My Groups\">\n            <ul>{groups}</ul>\n          </Card>\n        </div>\n        <div id=\"my-schedules-card\">\n          <Card title=\"My Schedule\"\n            editButton={<button style={{float: \"right\"}} className=\"button gray\"\n              onClick={() => {this.setState({edit_schedule: !this.state.edit_schedule})}}>\n              {this.state.edit_schedule ? \"Cancel\" : \"Edit schedule\"}</button>}>\n            <UserScheduleContainer\n              noWeekend\n              data={this.props.data}\n              user={this.props.user}\n              schedule={this.state.schedule}\n              edit_schedule={this.state.edit_schedule}\n              courses={courses}\n              getField={this.props.getField}\n              onSubmit={() => {this.setState({edit_schedule: false})}} />\n          </Card>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Landing;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport GroupPage from \"./GroupPage.js\";\nimport Landing from \"./Landing.js\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {data: null};\n\n    auth.onAuthStateChanged(async user => {\n      if (user) {\n        firebase\n          .firestore()\n          .collection(\"usernames\")\n          .doc(user.uid)\n          .get()\n          .then(doc => {\n            if (doc.data() == null) {\n              firebase\n                .firestore()\n                .collection(\"usernames\")\n                .doc(user.uid)\n                .set({ username: user.displayName });\n            }\n          });\n      }\n    });\n\n    this.getField = this.getField.bind(this);\n  }\n\n  componentDidMount() {\n    const ref = this;\n    import(\"../data/data.json\").then(data => {\n      ref.setState({ data: data[\"default\"] || data });\n    });\n  }\n\n  getField(subject, code, section, field) {\n    if (this.state.data && subject && code && section) {\n      let course = this.state.data[subject][code][section];\n      if (course) {\n        if (course[field].constructor === Array) {\n          return course[field];\n        } else {\n          let out = [];\n          out.push(course[field]);\n          return out;\n        }\n      }\n\n      return \"\";\n    }\n    return \"\";\n  }\n\n  render() {\n    return (\n      <Switch>\n        <Route\n          exact path=\"/\"\n          render={props =>\n            <Landing {...props}\n              user={this.props.user}\n              data={this.state.data} getField={this.getField}\n            />}\n        />\n        <Route\n          path=\"/group\"\n          render={props =>\n            <GroupPage {...props}\n              user={this.props.user}\n              data={this.state.data} getField={this.getField} />}\n        />\n      </Switch>\n    );\n  }\n}\n\nexport default Main;\n","import React from \"react\";\n\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\n\nimport \"../firebase.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = { user: null };\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(user => {\n      user ? this.setState({ user: user }) : this.setState({ user: null });\n      localStorage.setItem(\"uid\", user.uid);\n    });\n  }\n\n  render() {\n    return (\n      <div id=\"app\">\n        <Header\n          user={this.state.user}\n          login={user => {\n            this.setState({ user: user });\n          }}\n          logout={() => {\n            this.setState({ user: null });\n          }}\n        />\n        <Main user={this.state.user} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker.js';\nimport App from './components/App.js'\n\nimport './stylesheets/index.css'\n\nReactDOM.render((\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <App />\n  </BrowserRouter>\n  ), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}