{"version":3,"sources":["serviceWorker.js","firebase.js","components/Header.js","components/CourseSelector.js","components/CourseContainer.js","components/WeekView.js","components/GroupPage.js","components/Card.js","components/Landing.js","components/Main.js","components/App.js","index.js"],"names":["Boolean","window","location","hostname","match","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firestore","settings","timestampsInSnapshots","provider","auth","GoogleAuthProvider","Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","login","bind","assertThisInitialized","logout","_this2","signOut","then","_this3","setCustomParameters","prompt","signInWithPopup","result","user","react_default","a","createElement","id","href","process","displayName","email","className","onClick","React","Component","CourseSelector","changeSubject","changeCode","changeSection","selected","updateEntry","index","subject","code","section","code_select","focus","section_select","_this4","length","focusNextEntry","subject_select","_this5","_this$props","code_options","getCodes","section_options","getSections","react_select_esm","tabIndex","value","onChange","options","subject_options","placeholder","openMenuOnFocus","tabSelectsValue","classNamePrefix","filterOption","createFilter","matchFrom","ref","el","isDisabled","components","Option","children","data","time","indexOf","split","map","key","isOptionDisabled","option","already_entered","src","alt","style","verticalAlign","cursor","width","height","removeEntry","CourseContainer","state","entries","selector_refs","getActivities","addEntry","addFilledEntry","onSubmit","shouldFindActivities","renderActivityButtons","nextProps","opt","keys","reduce","obj","x","push","label","setState","raw","entry","type","getTime","changed_info","callback","assign","filter","section_key","splice","entries_to_submit","i","console","log","schedule_list","content","collection","doc","groupId","uid","set","schedule","to_focus","focusSubject","datapoint","activities","activity","selectors","components_CourseSelector","WeekView","weekdays","days_header","day","substr","hour_min","hour_max","courses","forEach","course","start_hour","Date","time_start","toUpperCase","trim","getHours","end_hour","time_end","startHour","endHour","row_groups","row_group","j","row","rowSpan","k","row_groups_default","addBlock","addBlockAtTime","days","charAt","name","day_index","group_index","row_index","row_span","inner_html","day_fixed","backgroundColor","Math","floor","start_date","start_obj","hour","quarter","round","getMinutes","end_date","end_obj","colSpan","title","GroupPage","group","schedules","role","getField","onAuthStateChanged","queryString","parse","search","get","roles","update","members_can_view","snapshot","username","catch","err","My Schedule","__webpack_require__","e","t","field","constructor","Array","out","courses_i","times","names","time_split","components_CourseContainer","join","components_WeekView","Card","Landing","groups","onChangeTitle","groups_ref","where","groups_new","defineProperty","target","components_Card","createGroup","Main","Switch","Route","exact","path","render","components_Landing","components_GroupPage","App","components_Header","components_Main","ReactDOM","BrowserRouter","basename","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bdfeaa3d.chunk.js","sourcesContent":["// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\nvar config = {\n\n  apiKey: \"AIzaSyAtkDMcmqJXjxNRvx84gYKQqssbarfkaOs\",\n  authDomain: \"bing-schedules.firebaseapp.com\",\n  databaseURL: \"https://bing-schedules.firebaseio.com\",\n  projectId: \"bing-schedules\",\n  storageBucket: \"bing-schedules.appspot.com\",\n  messagingSenderId: \"249912717870\"\n};\nfirebase.initializeApp(config);\n\nconst firestore = firebase.firestore();\nconst settings = {timestampsInSnapshots: true};\nfirestore.settings(settings);\n\nexport default firebase;\n","import React from \"react\";\n\nimport '../stylesheets/Header.css'\n\nimport '../firebase.js'\nimport firebase from 'firebase/app'\nimport 'firebase/auth'\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  logout() {\n    auth.signOut()\n    .then(() => {\n      this.props.logout();\n    });\n  }\n\n  login() {\n    provider.setCustomParameters({\n      prompt: 'select_account'\n    });\n\n    auth.signInWithPopup(provider)\n      .then((result) => {\n        const user = result.user;\n        this.props.login(user);\n      });\n  }\n\n  render() {\n    return (\n      <header id=\"top-header\">\n        <a href={process.env.PUBLIC_URL + \"/\"}><h1>Binghamton Schedule Manager</h1></a>\n        <div id=\"top-header-auth-button\">\n          <p>{this.props.user ?\n              this.props.user.displayName || this.props.user.email\n              : ''}</p>\n          {this.props.user ?\n            <button className=\"button gray\" onClick={this.logout}>Log Out</button>\n            : <button className=\"button gray\" onClick={this.login}>Log In</button>}\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React from \"react\";\n\nimport Select, {createFilter, components} from 'react-select';\n\nclass CourseSelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeSubject = this.changeSubject.bind(this);\n    this.changeCode = this.changeCode.bind(this);\n    this.changeSection = this.changeSection.bind(this);\n  }\n\n  changeSubject(selected) {\n    this.props.updateEntry(this.props.index,\n        {subject: selected, code: null, section: null},\n        (() => this.code_select.focus()));\n  }\n\n  changeCode(selected) {\n    this.props.updateEntry(this.props.index,\n        {code: selected, section: null},\n        (() => this.section_select.focus()));\n  }\n\n  changeSection(selected) {\n    this.props.updateEntry(this.props.index,\n        {section: (selected.length === 0) ? null : selected},\n        (() => (selected.length === 0) ? null : this.props.focusNextEntry()));\n  }\n\n  focusSubject() {\n    this.subject_select.focus();\n  }\n\n  render() {\n    const { subject, code, section } = this.props;\n\n    var code_options = this.props.getCodes(subject);\n    var section_options = this.props.getSections(subject, code);\n\n    return (\n      <div>\n        <Select\n          tabIndex={0}\n          value={subject}\n          onChange={this.changeSubject}\n          options={this.props.subject_options}\n          placeholder=\"Select Subject\"\n          openMenuOnFocus={true}\n          tabSelectsValue={false}\n          className=\"course-select\"\n          classNamePrefix=\"react-select\"\n          filterOption={createFilter({matchFrom: 'start'})}\n          ref={(el) => { this.subject_select = el }} />\n        <Select\n          tabIndex={0}\n          value={code}\n          onChange={this.changeCode}\n          options={code_options}\n          placeholder=\"Select Course\"\n          openMenuOnFocus={true}\n          tabSelectsValue={false}\n          isDisabled={code_options.length === 0}\n          className=\"course-select\"\n          classNamePrefix=\"react-select\"\n          filterOption={createFilter({matchFrom: 'start'})}\n          ref={(el) => { this.code_select = el }} />\n        <Select\n          tabIndex={0}\n          value={section}\n          onChange={this.changeSection}\n          options={section_options}\n          placeholder=\"Select Section\"\n          openMenuOnFocus={true}\n          tabSelectsValue={false}\n          isDisabled={section_options.length === 0}\n          className=\"course-select\"\n          classNamePrefix=\"react-select\"\n          filterOption={createFilter({matchFrom: 'start'})}\n          components={{Option: (props) => {\n            return (\n              <div>\n                <components.Option {...props}>\n                  {props.children}\n                  <span className={(props.data.time.indexOf(\", \") > -1) ? \"multiple\" : \"\"}>\n                    {props.data.time.split(\", \").map((time, index) => {\n                      return [time, <br key={index} />];\n                    })}\n                  </span>\n                </components.Option>\n              </div>\n            )}}}\n          isOptionDisabled={(option) => option.already_entered}\n          ref={(el) => { this.section_select = el }} />\n        <img src={process.env.PUBLIC_URL + \"/assets/cross.png\"}\n          alt=\"Delete entry\"\n          style={{verticalAlign: \"middle\", cursor: \"pointer\"}}\n          width=\"16\" height=\"16\"\n          onClick={() => {this.props.removeEntry(this.props.index)}} />\n      </div>\n    ); \n  }\n}\n\nexport default CourseSelector;\n","import React from \"react\";\n\nimport CourseSelector from \"./CourseSelector.js\"\n\nimport '../stylesheets/CourseContainer.css'\n\nimport '../firebase.js'\nimport firebase from 'firebase/app'\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass CourseContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      subject_options: [],\n      entries: [{subject: null, code: null, section: null},\n                {subject: null, code: null, section: null}],\n      selector_refs: []\n    };\n\n    this.getCodes = this.getCodes.bind(this);\n    this.getSections = this.getSections.bind(this);\n    this.updateEntry = this.updateEntry.bind(this);\n    this.getActivities = this.getActivities.bind(this);\n    this.addEntry = this.addEntry.bind(this);\n    this.addFilledEntry = this.addFilledEntry.bind(this);\n    this.removeEntry = this.removeEntry.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.focusNextEntry = this.focusNextEntry.bind(this);\n    this.shouldFindActivities = this.shouldFindActivities.bind(this);\n    this.renderActivityButtons = this.renderActivityButtons.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!nextProps.data) return;\n    const opt = Object.keys(nextProps.data).reduce((obj, x) => {\n      obj.push({value: x, label: x});\n      return obj;\n    }, []);\n    this.setState({subject_options: opt});\n  }\n\n  getCodes(subject) {\n    if (subject && subject.value) {\n      return Object.keys(this.props.data[subject.value]).reduce((obj, x) => {\n        obj.push({value: x, label: x});\n        return obj;\n      }, []);\n    }\n\n    return [];\n  }\n\n  getSections(subject, code) {\n    if (subject && code && subject.value && code.value) {\n      var raw = Object.keys(this.props.data[subject.value][code.value]).reduce((obj, x) => {\n        var already_entered = false;\n        for (var entry in this.state.entries) {\n          if (this.state.entries[entry].subject\n              && this.state.entries[entry].code\n              && this.state.entries[entry].section\n              && this.state.entries[entry].subject.value === subject.value\n              && this.state.entries[entry].code.value === code.value\n              && this.state.entries[entry].section.value === x) {\n            already_entered = true;\n            break;\n          }\n        }\n\n        var type = this.props.data[subject.value][code.value][x].type[0]\n        if (!obj[type]) obj[type] = [];\n        obj[type].push({value: x, label: x, time: this.props.getTime(subject.value, code.value, x), already_entered: already_entered});\n        return obj;\n      }, {});\n\n      return Object.entries(raw).reduce((obj, x) => {\n        obj.push({label: x[0], options: x[1]});\n        return obj;\n      }, []);\n    }\n\n    return [];\n  }\n\n  updateEntry(index, changed_info, callback) {\n      var entries = this.state.entries;\n      if (entries[index] === null || changed_info === null) return;\n      entries[index] = Object.assign(entries[index], changed_info);\n      this.setState({entries: entries}, callback);\n  }\n\n  getActivities(subject, code, section) {\n    if (subject && code && section && subject.value && code.value && section.value) {\n      return Object.keys(this.props.data[subject.value][code.value]).filter((section_key) => {\n        var section = this.props.data[subject.value][code.value][section_key];\n        return section.type[0] === \"Activity\" || section.type[0] === \"Discussion\";\n      });\n    }\n\n    return [];\n  }\n\n  addEntry(subject, code, section) {\n      var entries = this.state.entries;\n      entries.push({subject: null, code: null, section: null});\n      this.setState({entries: entries});\n  }\n\n  addFilledEntry(subject, code, section, index) {\n      var entries = this.state.entries;\n      entries.splice(index, 0, {subject: subject, code: code, section: section});\n      this.setState({entries: entries});\n  }\n\n  removeEntry(index) {\n      var entries = this.state.entries;\n      entries.splice(index, 1);\n      this.setState({entries: entries});\n  }\n\n  onSubmit() {\n    var entries_to_submit = [];\n    for (var i = 0; i < this.state.entries.length; i++) {\n      if (this.state.entries[i].subject == null\n       && this.state.entries[i].code == null\n       && this.state.entries[i].section == null) {\n        // TODO: In this case, just skip it\n        console.log(\"All null\");\n        continue;\n      }\n\n      if (this.state.entries[i].subject == null\n       || this.state.entries[i].code == null\n       || this.state.entries[i].section == null) {\n        // TODO: Improve and actually display this message\n        console.log(\"Please enter all fields or remove the row to continue\");\n        continue;\n      }\n\n      entries_to_submit.push(this.state.entries[i]);\n    }\n\n    if (entries_to_submit.length === 0) {\n        // TODO: Just disable submit in this case\n        console.log(\"Please enter a course\");\n        return;\n    }\n\n    var schedule_list = entries_to_submit.map((entry) => {\n      return {type: \"course\", content: {subject: entry.subject.value, code: entry.code.value, section: entry.section.value}};\n    });\n\n    firebase.firestore().collection(\"groups\")\n      .doc(this.props.groupId).collection(\"schedules\")\n      .doc(this.props.user.uid).set({schedule: schedule_list});\n  }\n\n  focusNextEntry(index) {\n    if (this.selector_refs.length <= index + 1) {\n      this.addEntry();\n      this.to_focus = index + 1;\n    }\n    else {\n      this.selector_refs[index + 1].focusSubject();\n    }\n  }\n\n  shouldFindActivities(index) {\n    for (var i = 0; i < this.state.entries.length; i++) {\n      if (!this.state.entries[i].subject || !this.state.entries[i].code\n          || !this.state.entries[index].subject || !this.state.entries[index].code) continue;\n\n      var entry = this.state.entries[index];\n      if (entry.subject && entry.code && entry.section) {\n        console.log(entry);\n        var datapoint = this.props.data[entry.subject.value][entry.code.value][entry.section.value];\n        if (datapoint.type[0] === \"Discussion\" || datapoint.type[0] === \"Activity\") {\n            return false\n        }\n      }\n\n      if(i === index) continue;\n\n      if (this.state.entries[i].subject.value === entry.subject.value\n        && this.state.entries[i].code.value === entry.code.value) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  renderActivityButtons(index) {\n    if (!this.shouldFindActivities(index)) return;\n    var entry = this.state.entries[index];\n    if (!entry) return;\n\n    var activities =\n      this.getActivities(entry.subject, entry.code, entry.section).reduce((obj, activity, i) => {\n        obj.push(\n          <button key={i} className=\"button gray\" \n            onClick={() => {\n              this.addFilledEntry(entry.subject, entry.code, {value: activity, label: activity}, index + 1);\n              this.to_focus = index + 2;\n            }}>\n              {activity}{' | '}\n              {this.props.getTime(entry.subject.value, entry.code.value, activity)}\n          </button>);\n        return obj;\n      }, []);\n    if (activities.length > 0) {\n      return (\n        <div>\n          Add activities:{' '}\n          {activities}\n        </div>\n      );\n    }\n    else {\n      return;\n    }\n  }\n\n  render() {\n    this.selector_refs = [];\n    var selectors = this.state.entries.map((entry, index) => {\n      return (\n        <div key={index}>\n        <CourseSelector\n          index={index}\n          subject={entry.subject} code={entry.code} section={entry.section}\n          subject_options={this.state.subject_options}\n          getCodes={this.getCodes}\n          getSections={this.getSections}\n          updateEntry={this.updateEntry}\n          removeEntry={this.removeEntry}\n          focusNextEntry={() => {this.focusNextEntry(index)}}\n          ref={(el) => {\n            this.selector_refs[index] = el;\n            if (this.to_focus === index) {\n              el.focusSubject(); \n              this.to_focus = null;\n            }\n          }} />\n        {this.renderActivityButtons(index)}\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"course-container\">\n        {selectors}\n        <div id=\"course-container-buttons\">\n          <button onClick={this.addEntry}>Add another course</button>\n          <button onClick={this.onSubmit}>Submit</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default CourseContainer;\n","import React from \"react\";\n\nimport '../stylesheets/WeekView.css'\n\nclass WeekView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const weekdays = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n    this.days_header = weekdays.map((day, index) => {\n      return (\n          <th key={index + 1} className=\"weekview-cell-label\">\n            <span>{day.substr(0, 3)}</span>\n          </th>\n      );\n    });\n    this.days_header.splice(0, 0, <th key={0} className=\"weekview-cell-label\"></th>);\n\n    // TODO: Handle the case where the last end time is an exact hour\n    // i.e. Should an empty hour be shown?\n    this.hour_min = null;\n    this.hour_max = null;\n    this.props.courses.forEach((course) => {\n      var start_hour = new Date('1/1/1970 ' + course.time_start.toUpperCase().trim()).getHours();\n      if (start_hour < this.hour_min || this.hour_min == null) this.hour_min = start_hour;\n\n      var end_hour = new Date('1/1/1970 ' + course.time_end.toUpperCase().trim()).getHours();\n      if (end_hour > this.hour_max || this.hour_max == null) this.hour_max = end_hour;\n    });\n\n    if (this.props.startHour && this.props.startHour <= this.hour_min) {\n      this.hour_min = this.props.startHour;\n    }\n\n    if (this.props.endHour && this.props.endHour >= this.hour_max) {\n      this.hour_max = this.props.endHour;\n    }\n\n    // TODO: IMPORTANT -- Fix times that pass midnight into another day\n    var row_groups = [];\n    for (var i = this.hour_min; i <= this.hour_max; i++) {\n      var row_group = [];\n      for (var j = 0; j < 4; j++) {\n        var row = [];\n        if (j === 0) {\n          row.push(<td key={0} rowSpan={4} className=\"weekview-cell-label\">\n            {((i + 11) % 12 + 1) + (i >= 12 ? \"PM\" : \"AM\")}\n          </td>);\n        }\n\n        for (var k = 0; k < weekdays.length; k++) {\n          row.push(<td key={weekdays[k]} className=\"weekview-cell-empty\"></td>);\n        }\n        row_group.push(row);\n      }\n      row_groups.push(row_group);\n    }\n    this.row_groups_default = row_groups;\n\n    this.state = {row_groups: row_groups};\n\n    this.addBlock = this.addBlock.bind(this);\n    this.addBlockAtTime = this.addBlockAtTime.bind(this);\n  }\n\n  componentDidMount() {\n    if (!this.props.courses) return;\n    const day_codes = \"MTWRFSU\";\n    this.props.courses.forEach((course) => {\n      for (var i = 0; i < course.days.length; i++) {\n        this.addBlockAtTime(day_codes.indexOf(course.days.charAt(i)), course.time_start, course.time_end, course.name);\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({row_groups: this.row_groups_default});\n    const day_codes = \"MTWRFSU\";\n    nextProps.courses.forEach((course) => {\n      for (var i = 0; i < course.days.length; i++) {\n        this.addBlockAtTime(day_codes.indexOf(course.days.charAt(i)), course.time_start, course.time_end, course.name);\n      }\n    });\n  }\n\n  // Adds a cell of rowSpan row_span at:\n  // (day_index)th day column of the (row_index)th row in the (group_index)th row group\n  // containing the inner html provided by inner_html\n  // addBlockAtTime wraps this for ease of use\n  addBlock(day_index, group_index, row_index, row_span, inner_html) {\n    var day_fixed = (row_index === 0) ? day_index+1 : day_index;\n    var row_groups = this.state.row_groups;\n    var key = row_groups[group_index][row_index][day_fixed].key;\n    row_groups[group_index][row_index][day_fixed] = (\n      <td rowSpan={row_span}\n        style={{backgroundColor: \"#ccc\"}}\n        key={key}><div>{inner_html}</div></td>\n    );\n\n    for (var i = 1; i < row_span; i++) {\n      var row = row_groups[group_index + Math.floor((row_index + i) / 4)][(row_index + i) % 4];\n      row[day_index + (((row_index + i) % 4 === 0) ? 1 : 0)] = null;\n    }\n\n    this.setState({row_groups: row_groups});\n  }\n\n  // Adds a cell:\n  // (day_index)th day column, spanning from time_start to time_end, rounded to the nearest 15 minutes\n  // containing the inner html provided by inner_html\n  // Times are in the form H:MM {AM | PM} (space required before suffix)\n  // TODO: Don't require space before suffix\n  addBlockAtTime(day_index, time_start, time_end, inner_html) {\n    var start_date = new Date('1/1/1970 ' + time_start.toUpperCase().trim());\n    var start_obj = {hour: start_date.getHours(),\n                     quarter: Math.round(start_date.getMinutes() / 15)};\n\n    var end_date = new Date('1/1/1970 ' + time_end.toUpperCase().trim());\n    var end_obj = {hour: end_date.getHours(),\n                   quarter: Math.round(end_date.getMinutes() / 15)};\n\n    var group_index = start_obj.hour - this.hour_min;\n    if (group_index < 0) group_index = 24 + group_index;\n    var row_index = start_obj.quarter;\n    var row_span = 0;\n\n    // Add 4 rows for every whole hour greater\n    if (end_obj.hour > start_obj.hour) {\n      row_span += 4 * (end_obj.hour - start_obj.hour - 1);\n    }\n    row_span += (4 - start_obj.quarter) + end_obj.quarter;\n\n    this.addBlock(day_index, group_index, row_index, row_span, inner_html);\n  }\n\n  render() {\n    var row_groups = this.state.row_groups;\n\n    return (\n      <div>\n        <table className=\"weekview-table\">\n          <colgroup>\n            <col style={{width: \"50px\"}} />\n            <col style={{width: \"100px\"}} />\n            <col style={{width: \"100px\"}} />\n            <col style={{width: \"100px\"}} />\n            <col style={{width: \"100px\"}} />\n            <col style={{width: \"100px\"}} />\n            <col style={{width: \"100px\"}} />\n            <col style={{width: \"100px\"}} />\n          </colgroup>\n\n          <thead>\n            <tr className=\"weekview-title\"><td colSpan={8}>{this.props.title}</td></tr>\n            <tr>{this.days_header}</tr>\n          </thead>\n          <tbody>\n            {row_groups.map((row_group, group_index) => {\n              return row_group.map((row, row_index) => {\n                return <tr key={\"row\" + row_index}>{row}</tr>;\n              });\n            })}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default WeekView;\n","import React from \"react\";\nimport queryString from 'query-string'\n\nimport CourseContainer from './CourseContainer.js'\nimport WeekView from './WeekView.js'\n\nimport '../firebase.js'\nimport firebase from 'firebase/app'\nimport 'firebase/auth'\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass GroupPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {groupId: \"\", user: null, group: {}, data: null, schedules: [], role: null};\n    this.getField = this.getField.bind(this);\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        console.log(user);\n\n        const values = queryString.parse(this.props.location.search)\n        var groupId = values.groupId;\n        this.setState({groupId: groupId});\n\n        firebase.firestore().collection(\"groups\").doc(groupId).get().then((group) => {\n          var roles = group.data().roles;\n          if (roles[this.props.user.uid] == null) {\n            roles[this.props.user.uid] = \"member\";\n            firebase.firestore().collection(\"groups\").doc(groupId).update({roles: roles});\n          }\n          this.setState({role: roles[this.props.user.uid]});\n\n          if (roles[this.props.user.uid] === \"member\" && !group.data().settings.members_can_view) {\n            firebase.firestore().collection(\"groups\")\n              .doc(groupId).collection(\"schedules\").doc(user.uid).get().then(doc => {\n                  this.setState({schedules: {\"My Schedule\": doc.data().schedule}});\n              }).catch((err) => {\n                console.log(\"Error getting document --\", err);\n              });\n          }\n          else {\n            firebase.firestore().collection(\"groups\")\n              .doc(groupId).collection(\"schedules\").get().then(snapshot => {\n                var schedules = [];\n                snapshot.forEach(doc => {\n                  firebase.firestore().collection(\"usernames\").doc(doc.id).get().then((name) => {\n                    schedules[name.data().username] = doc.data().schedule;\n                    this.setState({schedules: schedules});\n                  });\n                });\n              }).catch((err) => {\n                console.log(\"Error getting document --\", err);\n              });\n          }\n        }).catch((err) => {\n          console.log(\"Error getting document --\", err);\n        });\n      }\n      else {\n        this.setState({groupId: \"\", user: null, group: {}, schedules: [], role: null});\n      }\n    });\n\n    var ref = this;\n    import('../data/data.json').then(data => {\n      // data.splice(data.indexOf(\"default\"), 1);\n      ref.setState({data: data[\"default\"]});\n    });\n  }\n\n  getField(subject, code, section, field) {\n    if (subject && code && section) {\n      var course = this.state.data[subject][code][section];\n      if (course) {\n        if (course[field].constructor === Array) {\n          return course[field];\n        }\n        else {\n          var out = [];\n          out.push(course[field]);\n          return out;\n        }\n      }\n\n      return '';\n    }\n    return '';\n  }\n\n  render() {\n    var courses = [];\n    if (this.state.schedules) {\n      Object.keys(this.state.schedules).forEach((key, index) => {\n        var courses_i = [];\n        this.state.schedules[key].forEach((course) => {\n          var content = course.content;\n          var times = this.getField(content.subject, content.code, content.section, \"time\");\n          var days = this.getField(content.subject, content.code, content.section, \"days\");\n          var names = this.getField(content.subject, content.code, content.section, \"course\");\n          var time_split = [];\n          if (times.constructor === Array) {\n            for (var i = 0; i < times.length; i++) {\n              time_split = times[i].split(\"-\");\n              courses_i.push({days: days[i],\n                              time_start: time_split[0].trim(), time_end: time_split[1].trim(),\n                              name: names[i]});\n            }\n          }\n          else {\n              time_split = times.split(\"-\");\n              courses_i.push({days: days[i],\n                              time_start: time_split[0].trim(), time_end: time_split[1].trim(),\n                              name: names[i]});\n          }\n        }, this);\n        courses.push([key, courses_i]);\n      }, this);\n    }\n\n    return (\n      <div>\n        {this.state.role}\n        <CourseContainer \n          data={this.state.data} user={this.props.user} groupId={this.state.groupId}\n          getTime={(subject, code, section) => {\n            return this.getField(subject, code, section, \"time\").join(\", \");\n          }} />\n        {courses.map((courses_i, i) => {\n          return (\n            <div key={i}>\n              <WeekView title={courses_i[0]} courses={courses_i[1]} />\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default GroupPage;\n","import React from \"react\";\n\nimport '../stylesheets/Card.css'\n\nclass Card extends React.Component {\n  render() {\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">\n          {this.props.title}\n        </div>\n        <div className=\"card-content\">\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Card;\n","import React from \"react\";\n\nimport Card from './Card.js'\n\nimport '../firebase.js'\nimport firebase from 'firebase/app'\n\nimport '../stylesheets/Landing.css'\n\nclass Landing extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {title: \"\", groups: {}};\n\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        var groups_ref = firebase.firestore().collection(\"groups\");\n\n        var groups_refs = [\n          groups_ref.where(\"roles.\" + user.uid, '==', 'owner'),\n          groups_ref.where(\"roles.\" + user.uid, '==', 'viewer'),\n          groups_ref.where(\"roles.\" + user.uid, '==', 'member'),\n        ];\n\n        groups_refs.forEach((groups_ref) => {\n          groups_ref.get().then((snapshot) => {\n            snapshot.forEach((doc) => {\n              var groups_new = this.state.groups;\n              groups_new[doc.id] = doc.data()\n              this.setState({groups: groups_new});\n            });\n          });\n        });\n      }\n    });\n  }\n\n  createGroup(title) {\n    if (title && title !== \"\" && this.props.user) {\n      var groups_ref = firebase.firestore().collection(\"groups\");\n      groups_ref.doc().set({title: title,\n        roles: {[this.props.user.uid]: \"owner\"},\n        settings: {members_can_view: true}});\n    }\n  }\n\n  onChangeTitle(e) {\n    this.setState({title: e.target.value});\n  }\n\n  render() {\n    if (!this.props.user) {\n      return (\n        <div>\n          <p>Please log in to create or view schedule groups</p>\n        </div>\n      );\n    }\n\n    var groups = Object.keys(this.state.groups).map((key, i) => {\n      return <li key={i}><a href={process.env.PUBLIC_URL + \"/group/?groupId=\" + key}>\n            {this.state.groups[key].title}</a></li>;\n    });\n\n    return (\n      <div id=\"landing-container\">\n        <div id=\"create-group-card\">\n          <Card title=\"Create a group\">\n            <label id=\"name-label\">\n              <p>Name</p>\n              <input type=\"text\" onChange={this.onChangeTitle}\n                placeholder=\"Enter a group name\" value={this.state.title} />\n            </label>\n            <br />\n            <label id=\"checkbox-label\">\n              <p>Members can view all schedules</p>\n              <input type=\"checkbox\" onChange={() => {return 0}}\n                value={false} />\n            </label>\n            <button id=\"create-group-button\" className=\"button green large\"\n              onClick={() => {this.createGroup(this.state.title)}}>Create Group</button>\n          </Card>\n        </div>\n        <div id=\"my-groups-card\">\n          <Card title=\"My groups\">\n            <ul>{groups}</ul>\n          </Card>\n        </div>\n        <div id=\"my-schedules-card\">\n          <Card title=\"My schedules\">\n          </Card>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Landing;\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport GroupPage from './GroupPage.js'\nimport Landing from './Landing.js'\n\nimport '../firebase.js'\nimport firebase from 'firebase/app'\nimport 'firebase/auth'\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase.firestore().collection(\"usernames\").doc(user.uid).get().then((doc) => {\n          if (doc.data() == null) {\n            firebase.firestore().collection(\"usernames\").doc(user.uid).set({username: user.displayName});\n          }\n        });\n      }\n    });\n  }\n  render() {\n    return (\n      <Switch>\n        <Route exact path='/'\n          render={(props) => <Landing {...props} user={this.props.user} />} />\n        <Route path='/group'\n          render={(props) => <GroupPage {...props} user={this.props.user} />} />\n      </Switch>\n    )\n  }\n}\n\nexport default Main;\n","import React from \"react\";\n\nimport Header from './Header.js'\nimport Main from './Main.js'\n\nimport '../firebase.js'\nimport firebase from 'firebase/app'\nimport 'firebase/auth'\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {user: null}\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged((user) => {\n      (user) ? this.setState({user: user}) : this.setState({user: null});\n    });\n  }\n\n  render() {\n    return (\n      <div id=\"app\">\n        <Header user={this.state.user}\n          login={(user) => {this.setState({user: user})}}\n          logout={() => {this.setState({user: null})}} />\n        <Main user={this.state.user} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker.js';\nimport App from './components/App.js'\n\nimport './stylesheets/index.css'\n\nReactDOM.render((\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <App />\n  </BrowserRouter>\n  ), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}